{"version":3,"sources":["routes/Tables/CareManagers/index.js"],"names":["CareManagers","props","state","columns","title","field","render","rowData","size","color","checked","notifications","editComponent","console","log","isEditNotifications","id","setState","onChange","e","target","data","user","JSON","parse","localStorage","getItem","this","instance_id","userService","showCaremanagers","then","res","prevState","className","center","maxWidth","px","xs","lg","editable","onRowAdd","newData","Promise","resolve","setTimeout","addCaremanagers","push","onRowUpdate","oldData","editCaremanagers","indexOf","onRowDelete","deleteCaremanagers","splice","Component"],"mappings":"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","file":"static/js/60.c7204d4e.chunk.js","sourcesContent":["/**\r\n * Search Table\r\n*/\r\nimport React, { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { Container, Box, Switch } from '@material-ui/core';\r\nimport { userService } from '../../../_services';\r\n//Components\r\nimport { SmallTitleBar } from 'components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\n\r\nclass CareManagers extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ title: 'Ansprechpartner', field: 'ansprechpartner' },\r\n\t\t\t\t{ title: 'Klinik', field: 'klinik' },\r\n\t\t\t\t{ title: 'Anrede', field: 'salutation' },\r\n\t\t\t\t{ title: 'Vorname', field: 'firstName' },\r\n\t\t\t\t{ title: 'Nachname', field: 'lastName' },\r\n\t\t\t\t{ title: 'Fax', field: 'fax' },\r\n\t\t\t\t{ title: 'Email', field: 'email' },\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Notifications', field: 'notifications', render: rowData => {\r\n\t\t\t\t\t\treturn (<Switch\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tchecked={rowData.notifications ? true : false}\r\n\t\t\t\t\t\t/>)\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\teditComponent: rowData => {\r\n\t\t\t\t\t\tconsole.log('rowData', rowData);\r\n\t\t\t\t\t\tif (this.state.isEditNotifications && rowData.rowData.id) {\r\n\t\t\t\t\t\t\tthis.setState({ notifications: rowData.rowData.notifications ? true : false, isEditNotifications: false });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (<Switch\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tchecked={this.state.notifications}\r\n\t\t\t\t\t\t\tonChange={e => this.setState({ notifications: e.target.checked })}\r\n\t\t\t\t\t\t/>)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tdata: [],\r\n\t\t\tnotifications: true,\r\n\t\t\tisEditNotifications: false\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tthis.instance_id = user.instance_id;\r\n\t\tconsole.log('res', this.instance_id);\r\n\t\tuserService.showCaremanagers().then(res => {\r\n\r\n\t\t\tthis.setState(prevState => {\r\n\t\t\t\tconst data = res;\r\n\t\t\t\treturn { ...prevState, data };\r\n\t\t\t});\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"tables-wrapper search-table-wrap\">\r\n\t\t\t\t<SmallTitleBar\r\n\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.caremanagers\" />}\r\n\t\t\t\t\tcenter\r\n\t\t\t\t/>\r\n\t\t\t\t<Container maxWidth=\"lg\">\r\n\t\t\t\t\t<Box px={{ xs: '12px', lg: 0 }} className=\"page-space\">\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.caremanagers\" />}\r\n\t\t\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\t\tonRowAdd: newData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('newData', newData);\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.instance_id = this.instance_id;\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.notifications = this.state.notifications;\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.addCaremanagers(newData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ notifications: true, isEditNotifications: true })\r\n\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.notifications = this.state.notifications;\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.editCaremanagers(newData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[data.indexOf(oldData)] = newData;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ notifications: true, isEditNotifications: true })\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowDelete: oldData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(';oldData', oldData.id);\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.deleteCaremanagers({ id: oldData.id }).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.splice(data.indexOf(oldData), 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default CareManagers;\r\n\r\n\r\n"],"sourceRoot":""}