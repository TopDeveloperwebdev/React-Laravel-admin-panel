{"version":3,"sources":["routes/Tables/FamilyDoctors/index.js"],"names":["FamilyDoctors","props","state","columns","title","field","filter","type","required","render","rowData","size","color","editComponent","data","user","JSON","parse","localStorage","getItem","this","instance_id","console","log","userService","showFamilyDirectors","pagination","then","res","setState","prevState","className","id","center","maxWidth","px","xs","lg","editable","onRowAdd","newData","Promise","resolve","setTimeout","addFamilyDirectors","push","onRowUpdate","oldData","editFamilyDirectors","indexOf","onRowDelete","deleteFamilyDirectors","splice","Component"],"mappings":"mPAWMA,E,kDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CACZC,QAAS,CACR,CAAEC,MAAO,gBAAiBC,MAAO,eAAgBC,OAAQ,wBACzD,CAAEF,MAAO,cAAeC,MAAO,cAC/B,CAAED,MAAO,YAAaC,MAAO,YAC7B,CAAED,MAAO,WAAYC,MAAO,UAAWE,KAAM,WAC7C,CAAEH,MAAO,OAAQC,MAAO,QACxB,CAAED,MAAO,QAASC,MAAO,QAASE,KAAM,SAAUC,UAAU,GAC5D,CAAEJ,MAAO,MAAOC,MAAO,OACvB,CAAED,MAAO,QAASC,MAAO,SACzB,CAAED,MAAO,WAAYC,MAAO,WAAYE,KAAM,UAC9C,CACCH,MAAO,gBAAiBC,MAAO,gBAAiBI,OAAQ,SAAAC,GAAO,OAAI,kBAAC,IAAD,CAClEC,KAAK,QACLC,MAAM,aAEPC,cAAe,SAAAH,GAAO,OAAI,kBAAC,IAAD,CACzBC,KAAK,QACLC,MAAM,eAWTE,KAAM,IA/BW,E,gEAqCE,IAAD,OACfC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,YAC3CC,KAAKC,YAAcN,EAAKM,YACxBC,QAAQC,IAAI,MAAOH,KAAKC,aACxBG,IAAYC,oBAAoB,CAAEJ,YAAaD,KAAKC,YAAaK,WAAY,IAAKC,MAAK,SAAAC,GAEtF,EAAKC,UAAS,SAAAC,GACb,IAAMhB,EAAOc,EACb,OAAO,2BAAKE,GAAZ,IAAuBhB,iB,+BAOhB,IAAD,OAER,OACC,yBAAKiB,UAAU,oCACd,kBAAC,IAAD,CACC3B,MAAO,kBAAC,IAAD,CAAc4B,GAAG,8BACxBC,QAAM,IAEP,kBAAC,IAAD,CAAWC,SAAS,MACnB,kBAAC,IAAD,CAAKC,GAAI,CAAEC,GAAI,OAAQC,GAAI,GAAKN,UAAU,cACzC,kBAAC,IAAD,CACC3B,MAAO,kBAAC,IAAD,CAAc4B,GAAG,8BACxB7B,QAASiB,KAAKlB,MAAMC,QACpBW,KAAMM,KAAKlB,MAAMY,KACjBwB,SAAU,CACTC,SAAU,SAAAC,GAAO,OAChB,IAAIC,SAAQ,SAAAC,GACXC,YAAW,WACVD,IACApB,QAAQC,IAAI,UAAWiB,GACvBA,EAAQnB,YAAc,EAAKA,YAC3BG,IAAYoB,mBAAmBJ,GAASb,MAAK,SAAAC,GAC5CN,QAAQC,IAAI,MAAOK,GACnB,EAAKC,UAAS,SAAAC,GACb,IAAMhB,EAAI,YAAOgB,EAAUhB,MAE3B,OADAA,EAAK+B,KAAKjB,GACH,2BAAKE,GAAZ,IAAuBhB,iBAIvB,SAELgC,YAAa,SAACN,EAASO,GAAV,OACZ,IAAIN,SAAQ,SAAAC,GACXC,YAAW,WACVD,IACApB,QAAQC,IAAI,UAAWiB,EAAQR,IAC/BR,IAAYwB,oBAAoBR,GAASb,MAAK,SAAAC,GACzCmB,GACH,EAAKlB,UAAS,SAAAC,GACb,IAAMhB,EAAI,YAAOgB,EAAUhB,MAE3B,OADAA,EAAKA,EAAKmC,QAAQF,IAAYP,EACvB,2BAAKV,GAAZ,IAAuBhB,iBAIxB,SAELoC,YAAa,SAAAH,GAAO,OACnB,IAAIN,SAAQ,SAAAC,GACXC,YAAW,WACVD,IACApB,QAAQC,IAAI,WAAYwB,EAAQf,IAChCR,IAAY2B,sBAAsB,CAAEnB,GAAIe,EAAQf,KAAML,MAAK,SAAAC,GAC1DN,QAAQC,IAAI,MAAOK,GACnB,EAAKC,UAAS,SAAAC,GACb,IAAMhB,EAAI,YAAOgB,EAAUhB,MAE3B,OADAA,EAAKsC,OAAOtC,EAAKmC,QAAQF,GAAU,GAC5B,2BAAKjB,GAAZ,IAAuBhB,iBAGvB,mB,GAlHeuC,aA4HbrD","file":"static/js/47.c931dd25.chunk.js","sourcesContent":["/**\r\n * Search Table\r\n*/\r\nimport React, { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { Container, Box, Switch } from '@material-ui/core';\r\nimport { userService } from '../../../_services';\r\n//Components\r\nimport { SmallTitleBar } from 'components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\n\r\nclass FamilyDoctors extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcolumns: [\r\n\t\t\t\t{ title: 'Practice name', field: 'practiceName', filter: 'agNumberColumnFilter', },\r\n\t\t\t\t{ title: 'Doctor name', field: 'doctorName' },\r\n\t\t\t\t{ title: 'Street Nr', field: 'streetNr' },\r\n\t\t\t\t{ title: 'zip code', field: 'zipcode', type: 'numeric' },\r\n\t\t\t\t{ title: 'City', field: 'city' },\r\n\t\t\t\t{ title: 'Phone', field: 'phone', type: 'string', required: true },\r\n\t\t\t\t{ title: 'Fax', field: 'fax' },\r\n\t\t\t\t{ title: 'Email', field: 'email' },\r\n\t\t\t\t{ title: 'Password', field: 'password', type: 'string' },\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Notifications', field: 'notifications', render: rowData => <Switch\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t/>,\r\n\t\t\t\t\teditComponent: rowData => <Switch\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\t// data: [\r\n\t\t\t// \t{ practiceName: 'Mehmet', doctorName: 'Baran', streetNr: 'streetNr', zipCode: 63 ,city: 'Mehmet', phone: 'Baran', fax: 'streetNr' ,email : 'test@admin.com' ,password : 'password' ,notifications  : true  },\r\n\t\t\t// \t{ practiceName: 'Mehmet', doctorName: 'Baran', streetNr: 'streetNr', zipCode: 63 ,city: 'Mehmet', phone: 'Baran', fax: 'streetNr' ,email : 'test@admin.com' ,password : 'password' ,notifications  : true  },\r\n\t\t\t// \t{ practiceName: 'Mehmet', doctorName: 'Baran', streetNr: 'streetNr', zipCode: 63 ,city: 'Mehmet', phone: 'Baran', fax: 'streetNr' ,email : 'test@admin.com' ,password : 'password' ,notifications  : true  },\r\n\t\t\t// \t{ practiceName: 'Mehmet', doctorName: 'Baran', streetNr: 'streetNr', zipCode: 63 ,city: 'Mehmet', phone: 'Baran', fax: 'streetNr' ,email : 'test@admin.com' ,password : 'password' ,notifications  : true  },\r\n\t\t\t// ],\r\n\t\t\tdata: [],\r\n\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet user = JSON.parse(localStorage.getItem('user_id'));\r\n\t\tthis.instance_id = user.instance_id;\r\n\t\tconsole.log('res', this.instance_id);\r\n\t\tuserService.showFamilyDirectors({ instance_id: this.instance_id, pagination: 1 }).then(res => {\r\n\t\t\t\r\n\t\t\tthis.setState(prevState => {\r\n\t\t\t\tconst data = res;\r\n\t\t\t\treturn { ...prevState, data };\r\n\t\t\t});\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"tables-wrapper search-table-wrap\">\r\n\t\t\t\t<SmallTitleBar\r\n\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.familiy-directors\" />}\r\n\t\t\t\t\tcenter\r\n\t\t\t\t/>\r\n\t\t\t\t<Container maxWidth=\"lg\">\r\n\t\t\t\t\t<Box px={{ xs: '12px', lg: 0 }} className=\"page-space\">\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.familiy-directors\" />}\r\n\t\t\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\t\tonRowAdd: newData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('newData', newData);\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.instance_id = this.instance_id;\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.addFamilyDirectors(newData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('newdata', newData.id);\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.editFamilyDirectors(newData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (oldData) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[data.indexOf(oldData)] = newData;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowDelete: oldData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(';oldData', oldData.id);\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.deleteFamilyDirectors({ id: oldData.id }).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.splice(data.indexOf(oldData), 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default FamilyDoctors;\r\n\r\n\r\n"],"sourceRoot":""}