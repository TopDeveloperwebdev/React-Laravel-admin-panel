(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[21],{1629:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(417)).default)(l.default.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=r},1630:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(417)).default)(l.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=r},1648:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(15),l=a(16),r=a(18),c=a(17),i=a(0),o=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"getUrl",value:function(e){var t="/backend_latest/file_storage/"+e.split("/")[5];return console.log("url",t),console.log("url",t),t}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("instanceInfo"));return i.createElement("div",null,i.createElement("div",{style:{position:"absolute",top:"50px",left:"60px"},id:"header"},i.createElement("img",{src:this.getUrl(e.instanceLogo),height:"auto",width:"100px"})),i.createElement("div",{style:{position:"absolute",bottom:"30px",left:"60px",fontSize:"12px",color:"#b6b6b6",fontFamily:"Arial"},id:"footer"},i.createElement("div",{style:{fontFamily:"Arial"}},e.instanceName),"Mail:  ",e.email))}}]),a}(i.Component)},1695:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),r=(0,n(a(417)).default)(l.default.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4 4-4h-2.55z"}),"CloudDownloadOutlined");t.default=r},2419:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a(194),r=a(15),c=a(16),i=a(424),o=a(18),s=a(17),m=a(0),u=a.n(m),d=a(789),p=a(1549),h=a(61),f=a(1629),g=a.n(f),E=a(1630),v=a.n(E),b=a(1586),y=a.n(b),N=a(11),k=a(30),O=a(237),S=a(28),j=a(1494),C=a(1497),D=a(115),w=a(1555),x=a(408),I=a(228),_=a(1496),M=a(1513),z=a(1715),V=a(1771),L=a(2422),P=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(r.a)(this,a),(l=t.call(this,e)).state={open:!1,instance:null,userInstance_id:0,title:"",content:"",contentHeight:0,contentWidth:0,isEdit:!1,id:null,isDownload:!1,patientsList:[],selectedPatients:[],patients:[],doctorList:[],services:[],newData:{service:"",comment:"",tgl:"",wtl:""},document:{instanceInfo:{},doctorInfo:{doctorName:""},patientInfo:{},selectedServices:[]},type:{type1:!1,type2:!1,type3:!1},from:new Date,to:new Date,selectedPatient:null},l.onInit=function(e){e.reset();null!==l.state.content.match(/(\<\w*)((\s\/\>)|(.*\<\/\w*\>))/i)?e.replace(l.state.content):e.insertText(l.state.content)},l.onChangePatient=function(e,t){if(t){var a;t.firstName,t.lastName;a=l.state.doctorList.find((function(e){return e.doctorName==t.familyDoctor})),l.setState((function(e){var l=Object(n.a)({},e.document);return l.patientInfo=t,l.doctorInfo=a,console.log("document",l),Object(n.a)(Object(n.a)({},e),{},{document:l,selectedPatient:t})}))}},l.onChangeService=function(e,t){patient&&l.setState((function(e){var a=Object(n.a)({},e.newData);return a.service=t.services,Object(n.a)(Object(n.a)({},e),{},{newData:a})}))},l.onChangeComment=function(e){var t=e.target.value,a=e.target.name;l.setState((function(e){var l=Object(n.a)({},e.newData);return l[a]=t,Object(n.a)(Object(n.a)({},e),{},{newData:l})}))},l.addService=function(e){l.setState((function(e){var t=Object(n.a)({},e.document);return t.selectedServices.push(l.state.newData),Object(n.a)(Object(n.a)({},e),{},{document:t})}))},l.handleFromChange=function(e){l.setState({from:e})},l.handleToChange=function(e){l.setState({to:e})},l}return Object(c.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1,title:"",content:"",isEdit:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1,title:"",content:"",isEdit:!1})}},{key:"onSubmit",value:function(){var e;e=JSON.stringify(this.state.document);var t=this.state.document.patientInfo.firstName+" "+this.state.document.patientInfo.lastName,a=this.state.from,n=this.state.to,l={type1:!1,type2:!1,type3:!1};this.state.type&&(l=this.state.type),this.props.onConfirm({content:e,patient:t,from:a.toISOString(),to:n.toISOString(),type:JSON.stringify(l)}),this.setState({open:!1,isEdit:!1})}},{key:"onUpdate",value:function(){var e;e=JSON.stringify(this.state.document);var t=this.state.document.patientInfo.firstName+" "+this.state.document.patientInfo.lastName,a=this.state.from,n=this.state.to,l={type1:!1,type2:!1,type3:!1};this.state.type&&(l=this.state.type),this.props.onUpdate({id:this.state.id,content:e,patient:t,from:a.toISOString(),to:n.toISOString(),type:JSON.stringify(l)}),this.setState({open:!1,isEdit:!1})}},{key:"onChange",value:function(e){var t=document.getElementById("editArea").clientHeight,a=document.getElementById("editArea").clientWidth;this.setState({content:e,contentHeight:t,contentWidth:a})}},{key:"titleChanged",value:function(e){this.setState({title:e.target.value})}},{key:"onInputchange",value:function(e){console.log("event.target",e.target.name);var t=e.target.name;this.setState((function(e){var a=Object(n.a)({},e.type);return a[t]=!a[t],Object(n.a)(Object(n.a)({},e),{},{type:a})}))}},{key:"formate_date",value:function(e){var t;e&&(t=(t=e.split(" ")[0].split("-"))[2]+"."+t[1]+"."+t[0]);return t}},{key:"formate_dateT",value:function(e){var t="00.00.0000";if(e){var a=(e=e.toISOString()).split("T");a.length>1&&(t=(t=a[0].split("-"))[2]+"."+t[1]+"."+t[0])}return t}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.document,l=n.instanceInfo,r=n.doctorInfo,c=n.patientInfo,i=n.selectedServices,o=a.patientsList,s=a.services,m=a.type;console.log("instanceInfotype000",c);var d={options:o,getOptionLabel:function(e){return e.firstName+" "+e.lastName}},p={options:s,getOptionLabel:function(e){return e.services}};return u.a.createElement(j.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},u.a.createElement(C.a,{className:"p-10"},u.a.createElement(h.a,{className:"text-editor",id:"editArea"},u.a.createElement(h.a,{mb:"1",className:"logo"},u.a.createElement("img",{src:l.instanceLogo,width:"35"})),u.a.createElement(D.a,null,u.a.createElement("strong",null,l.instanceName," | ",l.streetNr," | ",l.zipCode," ",l.city)),u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,u.a.createElement("strong",null,r.doctorName)),u.a.createElement(D.a,null,r.streetNr),u.a.createElement(D.a,null,r.zipcode," ",r.city))),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,l.instanceName),u.a.createElement(D.a,null,l.streetNr),u.a.createElement(D.a,null,l.zip," ",l.city)))),u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,u.a.createElement("strong",null,"Fax: ",r.fax)))),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,u.a.createElement("strong",null,"Tel.:  ",l.phone)),u.a.createElement(D.a,null,u.a.createElement("strong",null,"Fax:  ",l.fax)),u.a.createElement(D.a,null,u.a.createElement("strong",null,"E-Mail:  ",l.email))))),u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7},u.a.createElement(h.a,null,u.a.createElement(L.a,Object.assign({},d,{id:"auto-complete",autoComplete:!0,includeInputInList:!0,value:this.state.selectedPatient,onChange:this.onChangePatient,renderInput:function(e){return u.a.createElement(x.a,Object.assign({id:"input-with-icon-textfield",label:"Patienten suchen"},e,{margin:"normal"}))}})))),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,null,u.a.createElement(D.a,null,this.formate_dateT(new Date))))),u.a.createElement(h.a,{pt:10},u.a.createElement(w.a,{container:!0,sm:12,md:12,lg:12,className:"justify-between checkboxs"},u.a.createElement(w.a,{item:!0,xs:12,sm:12,md:2,lg:2},u.a.createElement("h5",{className:"title-h5"},u.a.createElement("strong",null,"Anforderung"))),u.a.createElement(w.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",{type:"checkbox",name:"type1",value:"Erstverordnung",checked:m.type1,onChange:this.onInputchange.bind(this)}),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,u.a.createElement("strong",null,"Erstverordnung"))),u.a.createElement(w.a,{item:!0,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",{type:"checkbox",name:"type2",value:"Folgeverordnung",checked:m.type2,onChange:this.onInputchange.bind(this)}),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,u.a.createElement("strong",null,"Folgeverordnung"))),u.a.createElement(w.a,{item:!0,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",(e={type:"checkbox",name:"type3",checked:this.state.type3},Object(S.a)(e,"checked",m.type3),Object(S.a)(e,"onChange",this.onInputchange.bind(this)),e)),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,u.a.createElement("strong",null,"Medikamentenplan"))))),u.a.createElement(h.a,{pt:1},u.a.createElement(w.a,{container:!0,sm:12,md:12,lg:12,className:"datecontainer"},u.a.createElement("h6",null,"Zeitraum:"),u.a.createElement(M.a,{utils:V.default},u.a.createElement(w.a,{mr:3,item:!0,sm:4,md:4,lg:4,className:"justify-around"},u.a.createElement(D.a,null,"von:"),u.a.createElement(z.b,{disableToolbar:!0,variant:"inline",format:"dd.MM.yyyy",margin:"normal",id:"date-picker-inline",value:this.state.from,name:"from",onChange:this.handleFromChange,KeyboardButtonProps:{"aria-label":"change date"}})),u.a.createElement(w.a,{ml:2,item:!0,sm:4,md:4,lg:4,className:"justify-around"},u.a.createElement(D.a,null,"bis:"),u.a.createElement(z.b,{disableToolbar:!0,variant:"inline",format:"dd.MM.yyyy",margin:"normal",name:"to",value:this.state.to,onChange:this.handleToChange,KeyboardButtonProps:{"aria-label":"change date"}}))))),u.a.createElement(h.a,{pt:1},u.a.createElement(h.a,null,c.firstName," ",c.lastName," , geb. am cbirthday ",this.formate_date(c.birthday)),u.a.createElement(h.a,null,"Versicherung:  ",c.insurance," , Versichertennummer:  ",c.insuranceNr,".")),u.a.createElement(h.a,{pt:5},u.a.createElement(h.a,{className:"tableContainer"},u.a.createElement(D.a,null,"Sehr geehrte Damen und Herren,")),u.a.createElement(h.a,{className:"tableContainer",pt:2},u.a.createElement(D.a,null,"f\xfcr die Durchf\xfchrung von behandlungspflegerischen Ma\xdfnahmen ben\xf6tigen wir eine Verordnung f\xfcr folgende Leistungen: ")),u.a.createElement(h.a,{className:"tableContainer",pt:2,pb:2},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",{className:"thead"},u.a.createElement("th",{colSpan:"1"},"Leistung"),u.a.createElement("th",{colSpan:"2"},"H\xe4ufigkeit")),i.length?i.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",{className:"detail"},u.a.createElement("h6",null,u.a.createElement("strong",null,e.service)),u.a.createElement(h.a,null,e.comment)),u.a.createElement("td",null,e.tgl,"x tgl."),u.a.createElement("td",null,e.wtl,"x wtl."))})):null,u.a.createElement("tr",{className:"EditRow"},u.a.createElement("td",null,u.a.createElement(w.a,{container:!0},u.a.createElement(w.a,{item:!0,sm:12,md:4,lg:4},u.a.createElement(L.a,Object.assign({},p,{id:"auto-complete",autoComplete:!0,includeInputInList:!0,onChange:this.onChangeService,renderInput:function(e){return u.a.createElement(x.a,Object.assign({id:"input-with-icon-textfield",label:"Leistung"},e,{margin:"normal"}))}}))),u.a.createElement(w.a,{item:!0,sm:12,md:7,lg:7},u.a.createElement(h.a,{ml:2},u.a.createElement(x.a,{id:"input-with-icon-textfield",label:"Kommentar",margin:"normal",name:"comment",onChange:this.onChangeComment}))))),u.a.createElement("td",{className:"box2"},u.a.createElement("div",null,u.a.createElement(w.a,{container:!0,spacing:1,alignItems:"flex-end"},u.a.createElement(w.a,{item:!0,sm:6,md:6,lg:6},u.a.createElement(x.a,{id:"input-with-icon-grid",name:"tgl",onChange:this.onChangeComment})),u.a.createElement(w.a,{item:!0,sm:6,md:6,lg:6},"x tgl.")))),u.a.createElement("td",{className:"box2"},u.a.createElement("div",null,u.a.createElement(w.a,{container:!0,spacing:1,alignItems:"flex-end"},u.a.createElement(w.a,{item:!0,sm:6,md:6,lg:6},u.a.createElement(x.a,{id:"input-with-icon-grid",name:"wtl",onChange:this.onChangeComment})),u.a.createElement(w.a,{item:!0,sm:6,md:6,lg:6},"x wtl.")))))))),u.a.createElement(h.a,{textAlign:"center"},u.a.createElement(I.a,{variant:"contained",color:"primary",onClick:this.addService},"Meue Leistung"))),u.a.createElement(h.a,{pt:5},u.a.createElement(h.a,null,"Bitte senden Sie uns die Verordung vor ab per Fax an: ",l.fax),u.a.createElement(h.a,{pt:2},"Wir danken Ihnen recht herzlich f\xfcr Ihre M\xfche und stehen Ihnen als zuverlassiger und professioneller Versorger jederzeit gerne zur Seite."),u.a.createElement(h.a,{pt:2},"  Mit freundlichen Gr\xfc\xdfen"),u.a.createElement(h.a,null,"Ihr ",l.instanceName,"  Team")))),u.a.createElement(_.a,{className:"px-20 pb-20 justify-content-center"},!this.state.isDownload&&u.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1},!this.state.isEdit&&u.a.createElement(h.a,{mx:2},u.a.createElement(I.a,{variant:"contained",color:"primary",onClick:function(){return t.onSubmit(!0)}},"Submit")),this.state.isEdit&&u.a.createElement(h.a,{mx:2},u.a.createElement(I.a,{variant:"contained",color:"primary",onClick:function(){return t.onUpdate(!0)}},"Update")),u.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:function(){return t.onCloseDialog(!1)}},"No"))))}}]),a}(u.a.Component),T=a(33),A=a(1701),F=(a(1648),a(1624),function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"formate_date",value:function(e){var t="00.00.0000";if(e){var a=(e=e.toISOString()).split("T");a.length>1&&(t=(t=a[0].split("-"))[2]+"."+t[1]+"."+t[0])}return t}},{key:"formate_date_birthday",value:function(e){var t;e&&(t=(t=e.split(" ")[0].split("-"))[2]+"."+t[1]+"."+t[0]);return t}},{key:"getUrl",value:function(e){if(e)return"/backend_latest/file_storage/"+e.split("/")[5]}},{key:"render",value:function(){console.log("this.props.content.patients000000",this.props.instanceData);var e=this.props.content,t=e.document,a=t.instanceInfo,n=t.doctorInfo,l=t.patientInfo,r=t.selectedServices,c=e.type,i=e.from,o=e.to;return console.log("type",c),u.a.createElement("div",{className:"attachPdf"},u.a.createElement(h.a,{className:"text-editor",id:"editArea"},u.a.createElement(h.a,{mb:"1",className:"logo"},u.a.createElement("img",{src:this.getUrl(a.instanceLogo),width:"35"})),u.a.createElement(h.a,null,u.a.createElement(D.a,null,a.instanceName," | ",a.streetNr," | ",a.zipCode," ",a.city)),u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,n.doctorName),u.a.createElement(D.a,null,n.streetNr),u.a.createElement(D.a,null,n.zipcode," ",n.city))),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,a.instanceName),u.a.createElement(D.a,null,a.streetNr),u.a.createElement(D.a,null,a.zip," ",a.city)))),u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,"Fax: ",n.fax))),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,{pt:1},u.a.createElement(D.a,null,u.a.createElement("span",null,"Tel.:"),"  ",a.phone),u.a.createElement(D.a,null,u.a.createElement("span",null,"Fax:"),"  ",a.fax),u.a.createElement(D.a,null,u.a.createElement("span",null,"E-Mail:"),"  ",a.email)))),u.a.createElement(h.a,{pt:3},u.a.createElement(w.a,{container:!0,className:"justify-between"},u.a.createElement(w.a,{item:!0,sm:7,md:7,lg:7}),u.a.createElement(w.a,{item:!0,sm:3,md:3,lg:3},u.a.createElement(h.a,null,u.a.createElement(D.a,null,this.formate_date(new Date)))))),u.a.createElement(h.a,{pt:10},u.a.createElement(w.a,{container:!0,sm:12,md:12,lg:12,className:"justify-between checkboxs"},u.a.createElement(w.a,{item:!0,xs:12,sm:12,md:2,lg:2},u.a.createElement("h5",{className:"title-h5"},"Anforderung")),u.a.createElement(w.a,{item:!0,xs:12,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",{type:"checkbox",name:"type1",value:"Erstverordnung",checked:c.type1}),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,"Erstverordnung")),u.a.createElement(w.a,{item:!0,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",{type:"checkbox",name:"type2",value:"Folgeverordnung",checked:c.type2}),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,"Folgeverordnung")),u.a.createElement(w.a,{item:!0,sm:12,md:3,lg:3,className:"justify-center"},u.a.createElement("label",{className:"checkboxContainer"},u.a.createElement("input",Object(S.a)({type:"checkbox",name:"type3",checked:this.state.type3},"checked",c.type3)),u.a.createElement("span",{className:"checkmark"})),u.a.createElement("h5",null,"Medikamentenplan")))),u.a.createElement(h.a,{pt:1},u.a.createElement(w.a,{container:!0,sm:12,md:12,lg:12,className:"datecontainer"},u.a.createElement("h6",null,"Zeitraum: "),u.a.createElement(D.a,null,"von: ",this.formate_date(i)," "),u.a.createElement(D.a,null,"bis: ",this.formate_date(o)))),u.a.createElement(h.a,{pt:1},u.a.createElement(h.a,null,l.firstName," ",l.lastName,", geb. am ",this.formate_date_birthday(l.birthday)),u.a.createElement(h.a,null,"Versicherung:  ",l.insurance,", Versichertennummer:  ",l.insuranceNr,".")),u.a.createElement(h.a,{pt:5},u.a.createElement(h.a,{className:"tableContainer",pt:2},u.a.createElement(D.a,null,"Sehr geehrte Damen und Herren,")),u.a.createElement(h.a,{className:"tableContainer",pt:2},u.a.createElement(D.a,null,"f\xfcr die Durchf\xfchrung von behandlungspflegerischen Ma\xdfnahmen ben\xf6tigen wir eine Verordnung f\xfcr folgende Leistungen: ")),u.a.createElement(h.a,{className:"tableContainer",pt:2,pb:2},u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",{className:"thead"},u.a.createElement("td",{colSpan:"1",className:"th"},"Leistung"),u.a.createElement("td",{colSpan:"2",className:"th2"},"H\xe4ufigkeit")),r.length?r.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",{className:"detail"},u.a.createElement("h6",null,e.service),u.a.createElement(h.a,null,e.comment)),u.a.createElement("td",null,e.tgl,"  x  tgl."),u.a.createElement("td",null,e.wtl,"  x  wtl."))})):u.a.createElement("tr",null,u.a.createElement("td",{className:"detail none-row",colSpan:"3"},"None")))))),u.a.createElement(h.a,{pt:2},u.a.createElement(h.a,null,"Bitte senden Sie uns die Verordung vor ab per Fax an: ",a.fax),u.a.createElement(h.a,{pt:2},"Wir danken Ihnen recht herzlich f\xfcr Ihre M\xfche und stehen Ihnen als zuverlassiger und professioneller Versorger jederzeit gerne zur Seite."),u.a.createElement(h.a,{pt:2},"  Mit freundlichen Gr\xfc\xdfen"),u.a.createElement(h.a,null,"Ihr ",a.instanceName,"  Team"))))}}]),a}(u.a.Component)),J=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={open:!1},e}return Object(c.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1}),this.props.onConfirm(e)}},{key:"render",value:function(){var e=this;return u.a.createElement(j.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},u.a.createElement(C.a,null,u.a.createElement(h.a,{textAlign:"center",pt:2},u.a.createElement(D.a,{variant:"h5"},"Are you sure you want to delete this document permanently?"))),u.a.createElement(_.a,{className:"px-20 pb-20 justify-content-center"},u.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},u.a.createElement(h.a,{mx:2},u.a.createElement(I.a,{variant:"contained",color:"primary",onClick:function(){return e.onCloseDialog(!0)}},"Yes")),u.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(u.a.Component),H=a(1695),U=a.n(H),B=a(1770),W=a(38),R={},G=function(e){Object(o.a)(m,e);var t=Object(s.a)(m);function m(e){var n;return Object(r.a)(this,m),(n=t.call(this,e)).onCloseDialog=function(e){n.setState({oldData:null})},n.state={instances:[],documents:[],selectedDocument:{},oldData:{},patients:[],content:"",viewState:{document:{instanceInfo:R,doctorInfo:{doctorName:""},patientInfo:{},selectedServices:[]},type:{type1:!1,type2:!1,type3:!1},from:"",to:""},completed:!1,checked:[],columns:[{title:"Versenden per Fax",field:"Documents",render:function(e){return u.a.createElement("div",null,n.formate_dateTime(e.send_date))},filtering:!1},{title:"patient",field:"patient",filtering:!1},{title:"Typ",field:"type",render:function(e){var t={};return e.type&&(t=JSON.parse(e.type)),u.a.createElement("div",null,t.type1?u.a.createElement("p",null,"Erstverordnung"):"",t.type2?u.a.createElement("p",null,"Folgeverordnung"):"",t.type3?u.a.createElement("p",null,"Medikamentenplan"):"")},filtering:!1},{title:"von - bis",field:"from - to",render:function(e){return u.a.createElement("div",null,n.formate_date(e.from)," - ",n.formate_date(e.to))},filtering:!1},{title:"Funktionen",field:"actions",render:function(e){return u.a.createElement("div",null,u.a.createElement(U.a,{className:"pointerIcon",onClick:function(){return n.downloadPdf(e)}}),u.a.createElement("img",{alt:"site logo",width:"20",src:a(777),className:"pointerIcon",onClick:function(){return n.sendEmail(e)}}),u.a.createElement(g.a,{className:"pointerIcon",onClick:function(){return n.editDocument(e)}}),u.a.createElement(v.a,{className:"pointerIcon",onClick:function(){return n.ondeleteContact(e)}}))},filtering:!1},{title:"Genehmigt",field:"status",render:function(e){return u.a.createElement(d.a,{checked:n.state.checked[e.id],color:"primary",onChange:function(t){return n.handleChange(t.target.checked,e)}})},editComponent:function(e){return u.a.createElement(d.a,{checked:n.state.completed,color:"primary",onChange:function(t){return n.handleChangeCheckbox(t.target.checked,e)}})},lookup:{1:"JA",0:"NEIN"}}]},n.editorDialog=u.a.createRef(),n.viewDialog=u.a.createRef(),n.deleteDialog=u.a.createRef(),n.addDocument=n.addDocument.bind(Object(i.a)(n)),n}return Object(c.a)(m,[{key:"handleChangeCheckbox",value:function(e,t){this.setState({completed:e})}},{key:"handleChange",value:function(e,t){var a=this;console.log("v alue",e),O.a.editVerordnung({id:t.id,status:e}).then((function(r){r&&a.setState((function(a){var r=Object(l.a)(a.checked);return r[t.id]=e,Object(n.a)(Object(n.a)({},a),{},{checked:r})}))}))}},{key:"formate_dateTime",value:function(e){var t="";if(console.log("this.formate_date",e),e){var a=e.split(" "),n=a[0].split("-"),l=a[1].split(":");t="am "+n[2]+"."+n[1]+"."+n[0]+" um "+l[0]+":"+l[1]}return t}},{key:"formate_date",value:function(e){var t="00.00.0000";if(console.log("dateString",e),e){var a=e.split("T");a.length>1&&(t=(t=a[0].split("-"))[2]+"."+t[1]+"."+t[0])}return t}},{key:"addDocument",value:function(){this.editorDialog.current.setState({document:{instanceInfo:R,doctorInfo:{doctorName:""},patientInfo:{},selectedServices:[]},type:{type1:!1,type2:!1,type3:!1},from:new Date,to:new Date,selectedPatient:null}),this.editorDialog.current.openDialog()}},{key:"downloadPdf",value:function(e){this.setState({oldData:e});var t=JSON.parse(e.content);this.setState({viewState:{document:Object(n.a)({},t),type:JSON.parse(e.type),from:new Date(e.from),to:new Date(e.to),isEdit:!0,id:e.id}}),setTimeout((function(){Object(A.a)(T.findDOMNode(document.getElementById("editArea")),{paperSize:"A4",margin:{left:60,right:60,top:50,bottom:60}})}),10)}},{key:"sendEmail",value:function(e){var t=this;this.setState({oldData:e});var a=JSON.parse(e.content);this.setState({viewState:{document:Object(n.a)({},a),type:JSON.parse(e.type),from:new Date(e.from),to:new Date(e.to),isEdit:!0,id:e.id}}),setTimeout((function(){var a=document.getElementById("editArea");Object(B.a)(a,{paperSize:"A4",margin:{left:60,right:60,top:50,bottom:60}}).then((function(e){return Object(B.b)(e)})).then((function(a){var r=a.replace("data:application/pdf;base64,",""),c={id:e.id,attachments:r,doctor:t.state.viewState.document.doctorInfo.doctorName};O.a.sendMail(c).then((function(a){W.NotificationManager.success("Der Faxversand war erfolgreich"),t.setState((function(t){var r=Object(l.a)(t.documents);return r[r.indexOf(e)].send_date=a,Object(n.a)(Object(n.a)({},t),{},{documents:r})}))}),(function(e){W.NotificationManager.error("Es gibt keine Pflegeordner, die optionale Dienste anbieten.")}))}))}),1)}},{key:"editDocument",value:function(e){this.setState({oldData:e});var t=JSON.parse(e.content);this.editorDialog.current.setState({document:Object(n.a)({},t),type:Object(n.a)({},JSON.parse(e.type)),from:new Date(e.from),to:new Date(e.to),isEdit:!0,id:e.id,selectedPatient:t.patientInfo}),this.editorDialog.current.openDialog()}},{key:"onSubmit",value:function(e){var t=this;e&&O.a.addVerordnung(Object(n.a)(Object(n.a)({},e),{},{instance_id:this.instance_id})).then((function(e){t.setState((function(t){var a=Object(l.a)(t.documents);return a.push(e),Object(n.a)(Object(n.a)({},t),{},{documents:a})})),t.editorDialog.current.setState({document:{instanceInfo:R,doctorInfo:{doctorName:""},patientInfo:{},selectedServices:[]},type:{type1:!1,type2:!1,type3:!1},from:new Date,to:new Date,selectedPatient:{}}),W.NotificationManager.success("Sie haben erfolgreich Verordnung erstellt.")}),(function(e){W.NotificationManager.error("Die Verordnung konnte nicht erstellt werden.")}))}},{key:"onUpdate",value:function(e){var t=this;e&&O.a.editVerordnung(Object(n.a)(Object(n.a)({},e),{},{instance_id:this.instance_id})).then((function(a){t.setState((function(a){var r=Object(l.a)(a.documents);r[r.indexOf(t.state.oldData)]=e;return Object(n.a)(Object(n.a)({},a),{},{documents:r,oldData:{}})})),t.editorDialog.current.setState({document:{instanceInfo:R,doctorInfo:{doctorName:""},patientInfo:{},selectedServices:[]},type:{type1:!1,type2:!1,type3:!1},from:new Date,to:new Date,selectedPatient:{}}),W.NotificationManager.success("Sie haben erfolgreich Verordnung erstellt.")}),(function(e){W.NotificationManager.error("Die Verordnung konnte nicht erstellt werden.")}))}},{key:"ondeleteContact",value:function(e){console.log(";",e),this.setState({oldData:e}),this.deleteDialog.current.openDialog()}},{key:"deleteContactPermanent",value:function(e){var t=this;e&&O.a.deleteVerordnung({id:this.state.oldData.id}).then((function(e){e&&t.setState((function(e){var a=Object(l.a)(e.documents);return a.splice(a.indexOf(t.state.oldData),1),Object(n.a)(Object(n.a)({},e),{},{documents:a})}))}))}},{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));console.log("user",t),this.instance_id=t.instance_id,O.a.showVerordnung({instance_id:this.instance_id}).then((function(t){t.instance.length&&(R=t.instance[0]);var a={patientInfo:{},doctorInfo:{},instanceInfo:Object(n.a)({},R),selectedServices:[]};e.editorDialog.current.setState({patientsList:t.patients,services:t.services,doctorList:t.doctors,document:Object(n.a)({},a)});var l=[];t.verordnungs.forEach((function(e){l[e.id]=e.status})),e.setState({documents:t.verordnungs,checked:l})}))}},{key:"render",value:function(){var e=this;return console.log("documents",this.state.documents),u.a.createElement("div",{className:"tables-wrapper"},u.a.createElement(N.f,{title:u.a.createElement(k.a,{id:"sidebar.verordnungs"}),center:!0}),u.a.createElement(p.a,{maxWidth:"lg",className:"documentContainer"},u.a.createElement(h.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(y.a,{title:u.a.createElement(k.a,{id:"sidebar.verordnungs"}),columns:this.state.columns,data:this.state.documents,options:{search:!0,filtering:!0},actions:[{icon:"note_add_outlined",tooltip:"my tooltip",position:"toolbar",onClick:function(){e.addDocument()}}]}))),u.a.createElement("div",{className:"editorDialog"},u.a.createElement(P,{ref:this.editorDialog,instances:this.state.instances,onConfirm:function(t){return e.onSubmit(t)},onUpdate:function(t){return e.onUpdate(t)},document:this.state.content})),u.a.createElement(F,{content:this.state.viewState}),u.a.createElement(J,{ref:this.deleteDialog,onConfirm:function(t){return e.deleteContactPermanent(t)}}))}}]),m}(m.Component);t.default=G}}]);
//# sourceMappingURL=21.9a2e73c2.chunk.js.map