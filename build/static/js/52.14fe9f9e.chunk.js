(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[52],{2245:function(e,t,a){"use strict";a.r(t);var n=a(7),i=a(194),l=a(15),c=a(16),o=a(429),s=a(18),r=a(17),u=a(0),m=a.n(u),d=a(1540),h=a(61),p=a(1560),f=a(1514),v=a(1518),g=a(1520),E=a(1516),b=a(1515),y=a(1683),D=a.n(y),S=a(11),C=a(30),k=a(237),N=a(1485),O=a(1489),x=a(1488),j=a(406),w=a(405),L=a(763),_=a(787),z=a(524),A=a(1513),I=a(786),J=a(1512),P=a(228),T=(a(1636),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={open:!1,data:{},selectedService:"",selectedDocuments:[],title:"",servicesList:[],documentsList:[],instance_id:0},n.onchangeDocument=function(e){n.setState({selectedDocuments:Object(i.a)(e.target.value)})},n.onChangeServices=function(e){n.setState({selectedService:e.target.value})},n.onChangeTitle=function(e){n.setState({title:e.target.value})},n}return Object(c.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"onSubmit",value:function(){this.setState({open:!1}),this.props.onConfirm({title:this.state.title,documents:JSON.stringify(this.state.selectedDocuments),service:this.state.selectedService,instance_id:this.state.instance_id})}},{key:"render",value:function(){var e=this;return m.a.createElement(N.a,{className:"contact-dialog carefolderContainer",open:this.state.open,onClose:this.closeDialog,"aria-labelledby":"form-dialog-title"},m.a.createElement(O.a,{id:"form-dialog-title"},"Edit Contact"),m.a.createElement(x.a,null,m.a.createElement("div",null,m.a.createElement("form",{autoComplete:"off"},m.a.createElement("div",{style:{marginBottom:"20px"}},m.a.createElement(h.a,{className:"p-10"},m.a.createElement(j.a,{className:"full-width",type:"text",label:"Please input Care folder title",InputLabelProps:{shrink:!0},value:this.state.title,onChange:this.onChangeTitle.bind(this),defaultValue:"Title..."})),m.a.createElement(h.a,{className:"p-10"},m.a.createElement(w.a,{className:"selection-wrap full-width"},m.a.createElement(L.a,{id:"page-size"},"Please Select a Service"),m.a.createElement(_.a,{labelId:"page-size",id:"page-size",value:this.state.selectedService,onChange:this.onChangeServices.bind(this),defaultValue:1},this.state.servicesList.map((function(e){return m.a.createElement("option",{key:e.id,value:e.id},e.services)}))))),m.a.createElement(h.a,{className:"p-10"},m.a.createElement(w.a,{className:"full-width"},m.a.createElement(L.a,{id:"demo-mutiple-checkbox-label"},"Please select documents"),m.a.createElement(_.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:this.state.selectedDocuments,onChange:this.onchangeDocument.bind(this),input:m.a.createElement(z.a,null),renderValue:function(e){return e.join(", ")}},this.state.documentsList.map((function(t){return m.a.createElement(A.a,{key:t.id,value:t.id},m.a.createElement(I.a,{checked:e.state.selectedDocuments.indexOf(t.id)>-1}),m.a.createElement(J.a,{primary:t.title}))})))))),m.a.createElement("div",{className:"pt-25 text-right"},m.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"flex-end",textAlign:"center"},m.a.createElement(h.a,{mx:2},m.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"Cancel")),m.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){return e.onSubmit(!0)}},"Submit")))))))}}]),a}(m.a.Component)),R=a(117),V=a(1682),W=a.n(V),B=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={open:!1,instance:null,title:"",content:""},n}return Object(c.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"render",value:function(){var e=this;return m.a.createElement(N.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},m.a.createElement(x.a,{className:"p-10"},m.a.createElement(h.a,null,m.a.createElement(W.a,{className:"closeBtn",onClick:function(){return e.onCloseDialog(!1)}})),m.a.createElement(h.a,{bgcolor:"background.paper",className:"title-banner"},m.a.createElement(d.a,null,m.a.createElement(h.a,{className:"title-content",textAlign:"center"},m.a.createElement(R.a,{variant:"h4"},this.props.document.instanceName),m.a.createElement(h.a,{pt:1,fontSize:"body2.fontSize"},m.a.createElement("img",{src:this.props.document.instanceLogo}))))),m.a.createElement(h.a,{className:"p-10"},m.a.createElement(R.a,{variant:"h4",className:"title"},this.props.document.title)),m.a.createElement(h.a,{className:"p-10"},m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.document.content}})),m.a.createElement(h.a,{textAlign:"center",pt:2}),m.a.createElement(h.a,{bgcolor:"background.paper",className:"title-banner"},m.a.createElement(d.a,null,m.a.createElement(h.a,{className:"title-content",textAlign:"center"},m.a.createElement(h.a,{pt:1,fontSize:"body2.fontSize"},"instance Name : ",this.props.document.instanceName),m.a.createElement(h.a,{pt:1,fontSize:"body2.fontSize"},"Contact Email : ",this.props.document.email))))))}}]),a}(m.a.Component),F=a(1487),H=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e}return Object(c.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1}),this.props.onConfirm(e)}},{key:"render",value:function(){var e=this;return m.a.createElement(N.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},m.a.createElement(x.a,null,m.a.createElement(h.a,{textAlign:"center",pt:2},m.a.createElement(R.a,{variant:"h5"},"Are you sure you want to delete this document permanently?"))),m.a.createElement(F.a,{className:"px-20 pb-20 justify-content-center"},m.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},m.a.createElement(h.a,{mx:2},m.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){return e.onCloseDialog(!0)}},"Yes")),m.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(m.a.Component),M=a(1974),Y=a.n(M),X=a(1973),q=a.n(X),G=a(1975),K=a.n(G),Q=a(19),U=a(1972),Z=(a(1681),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onCloseDialog=function(e){n.setState({oldData:null})},n.getLength=function(e){var t=0;e&&(t=JSON.parse(e).length);return t},n.state={servicesList:[],folders:[],selectedDocument:{},oldData:{},documentsList:[]},n.editorDialog=m.a.createRef(),n.viewDialog=m.a.createRef(),n.deleteDialog=m.a.createRef(),n.addDocument=n.addDocument.bind(Object(o.a)(n)),n}return Object(c.a)(a,[{key:"addDocument",value:function(){this.editorDialog.current.setState({servicesList:this.state.servicesList,documentsList:this.state.documentsList,instance_id:this.instance_id}),this.editorDialog.current.openDialog()}},{key:"viewDocument",value:function(e,t,a,n,i){this.setState({selectedDocument:{content:e,instanceLogo:a,email:t,instanceName:n,title:i}}),this.viewDialog.current.openDialog()}},{key:"editDocument",value:function(e,t,a){this.editorDialog.current.setState({instance:e,title:t,content:a}),this.editorDialog.current.openDialog()}},{key:"onSubmit",value:function(e){var t=this;e&&k.a.addFolders(e).then((function(e){var a=t.state.folders;a.push(e),t.setState({folders:a})}))}},{key:"ondeleteContact",value:function(e){console.log(";",e),this.setState({oldData:e}),this.deleteDialog.current.openDialog()}},{key:"deleteContactPermanent",value:function(e){var t=this;e&&k.a.deleteDocuments({id:this.state.oldData.id}).then((function(e){e&&t.setState((function(e){var a=Object(i.a)(e.folders);return a.splice(a.indexOf(t.state.oldData),1),Object(n.a)(Object(n.a)({},e),{},{folders:a})}))}))}},{key:"convert",value:function(e,t,a,n,i){return console.log(t),'<div>\n\t\t<div id="printable-area">\n\t\t\t<div bgcolor="background.paper"  class=\'title-banner\' >\n\t\t\t\t<div>\n\t\t\t\t\t<div className="title-content"  textAlign="center">\n\t\t\t\t\t\t<div variant="h4" style="color : red">\n\t\t\t\t\t\t\t'.concat(e,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className="p-10">\n\t\t\t\t<div variant="h4" className="title">\n\t\t\t\t\t').concat(a,'\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\n\t\t\t<div style="margin : 0 auto" >\n\t\t\t').concat(n,'\n\t\t\t</div>\n\t\t\t<div bgcolor="background.paper" className=\'title-banner\' >\n\t\t\t\t<div>\n\t\t\t\t\t<div className="title-content" textAlign="center">\n\t\t\t\t\t\t<div pt={1} fontSize="body2.fontSize">\n\t\t\t\t\t\t\tinstance Name : ').concat(e,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div pt={1} fontSize="body2.fontSize">\n\t\t\t\t\t\t\tContact Email : ').concat(i,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>")}},{key:"downloadCarefolder",value:function(e){var t=this,a=[];if(e){var n=JSON.parse(e);a=this.state.documentsList.filter((function(e){return n.indexOf(e.id)>-1}))}var i=new U.a("p","pt","a4");console.log("res",a);var l='<div id="pdf-area">',c=0,o=a[0].contentWidth;a.forEach((function(e){var a=t.convert(e.instanceName,e.instanceLogo,e.title,e.content,e.email);c+=e.contentHeight,l+=a})),l+="</div>",console.log("client",o,c),i.html(l,{html2canvas:{width:o,height:c,scrollX:30,scrollY:30,proxy:null,useCORS:!1},callback:function(){i.save("myDocument.pdf")}})}},{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));this.instance_id=t.instance_id,k.a.showDocuments({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({documentsList:t})})),k.a.showServices({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({servicesList:t})})),console.log("instance",this.instance_id),k.a.showFolders({instance_id:this.instance_id,pagination:1}).then((function(t){console.log("servicesList",t),e.setState({folders:t})}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"tables-wrapper"},m.a.createElement(S.f,{title:m.a.createElement(C.a,{id:"sidebar.carefolders"}),center:!0}),m.a.createElement(d.a,{maxWidth:"lg"},m.a.createElement(h.a,{px:{xs:"12px",lg:0},className:"page-space"},m.a.createElement(S.c,{title:m.a.createElement(C.a,{id:"sidebar.carefolders"})},m.a.createElement(h.a,null," ",m.a.createElement(q.a,{onClick:this.addDocument})),m.a.createElement(h.a,{pt:3},m.a.createElement(p.a,null,m.a.createElement(f.a,{"aria-label":"simple table"},m.a.createElement(v.a,null,m.a.createElement(g.a,null,m.a.createElement(E.a,null),m.a.createElement(E.a,{align:"left"},"Title"),m.a.createElement(E.a,{align:"left"},"Size"),m.a.createElement(E.a,{align:"left"},"Created_At"),m.a.createElement(E.a,{align:"left"},"Actions"))),m.a.createElement(b.a,null,this.state.folders.map((function(t){return m.a.createElement(g.a,{key:t.title},m.a.createElement(E.a,{align:"left",className:"pointerIcon"},m.a.createElement(Q.b,{to:"/app/documents/".concat(t.documents)},m.a.createElement(Y.a,null))),m.a.createElement(E.a,{component:"th",scope:"row"},t.title),m.a.createElement(E.a,{component:"th",scope:"row"},e.getLength(t.documents)),m.a.createElement(E.a,{align:"left"},t.created_at),m.a.createElement(E.a,{align:"left"},m.a.createElement(K.a,{onClick:function(){return e.downloadCarefolder(t.documents)}}),m.a.createElement(D.a,{onClick:function(){return e.ondeleteContact(t)}})))}))))))))),m.a.createElement(T,{ref:this.editorDialog,onConfirm:function(t){return e.onSubmit(t)}}),m.a.createElement(B,{ref:this.viewDialog,document:this.state.selectedDocument}),m.a.createElement(H,{ref:this.deleteDialog,onConfirm:function(t){return e.deleteContactPermanent(t)}}))}}]),a}(u.Component));t.default=Z}}]);
//# sourceMappingURL=52.14fe9f9e.chunk.js.map