(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[19],{1615:function(e,t,a){"use strict";var n=a(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),i=(0,n(a(416)).default)(l.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=i},1630:function(e,t,a){"use strict";var n=a(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),i=(0,n(a(416)).default)(l.default.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=i},1631:function(e,t,a){"use strict";var n=a(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),i=(0,n(a(416)).default)(l.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.default=i},1661:function(e,t,a){"use strict";var n=a(153);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(0)),i=(0,n(a(416)).default)(l.default.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}),"InsertDriveFileOutlined");t.default=i},2392:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a(194),i=a(15),s=a(16),c=a(428),o=a(18),r=a(17),d=a(0),u=a.n(d),p=a(1541),h=a(61),m=a(1661),f=a.n(m),y=a(1630),v=a.n(y),b=a(1631),g=a.n(b),E=a(1579),D=a.n(E),k=a(11),C=a(30),S=a(237),A=a(1486),O=a(1489),j=a(407),q=a(406),T=a(765),N=a(788),x=a(1488),_=a(228),M=(a(323),a(759),a(1695)),w=a.n(M),I=["Every year on birthdays","User create an Order"],z=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={open:!1,instance:null,userInstance_id:null,title:"",content:"",contentHeight:0,contentWidth:0,isEdit:!1,id:null,selectedType:"Every year on birthdays"},n.onInit=function(e){e.reset();null!==n.state.content.match(/(\<\w*)((\s\/\>)|(.*\<\/\w*\>))/i)?e.replace(n.state.content):e.insertText(n.state.content)},n}return Object(s.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"onSubmit",value:function(){var e=this.state.userInstance_id;if(console.log("this.state.title && this.state.content",this.state.title,this.state.content),this.state.title&&this.state.content){this.setState({open:!1});var t=this.state.content;if("Every year on birthdays"==this.state.selectedType){t=(t=(t=(t=t.replaceAll("[Name]","".concat("<span class='name'>[Name]</span>"))).replaceAll("[Birthday Date]","".concat("<span class='birthday'>[Birthday Date]</span>"))).replaceAll("[Address]","".concat("<span class='address'>[Address]</span>"))).replaceAll("[Phone]","".concat("<span class='phone'>[Phone]</span>"))}else{t=(t=(t=(t=(t=(t=t.replaceAll("[patient firstname]","".concat("<span class='firstname'>[patient firstname]</span>"))).replaceAll("[patient lastname]","".concat("<span class='lastname'>[patient lastname]</span>"))).replaceAll("[patient birthday]","".concat("<span class='birthday'>[patient birthday]</span>"))).replaceAll("[patient insurance]","".concat("<span class='insurance'>[patient insurance]</span>"))).replaceAll("[patient address]","".concat("<span class='address'>[patient address]</span>"))).replaceAll("[patient phone]","".concat("<span class='phone'>[patient phone]</span>"))}this.props.onConfirm({title:this.state.title,instance_id:e,body:t,type:this.state.selectedType})}else alert("Bitte geben Sie die erforderlichen Felder ein")}},{key:"onUpdate",value:function(){var e=this.state.userInstance_id;if(this.state.title&&this.state.content){this.setState({open:!1});var t=this.state.content;if("birthday"==this.state.selectedType){t=(t=(t=(t=t.replaceAll("[Name]","".concat("<span class='name'>[Name]</span>"))).replaceAll("[Birthday Date]","".concat("<span class='birthday'>[Birthday Date]</span>"))).replaceAll("[Address]","".concat("<span class='address'>[Address]</span>"))).replaceAll("[Phone]","".concat("<span class='phone'>[Phone]</span>"))}else{t=(t=(t=(t=(t=(t=t.replaceAll("[patient firstname]","".concat("<span class='firstname'>[patient firstname]</span>"))).replaceAll("[patient lastname]","".concat("<span class='lastname'>[patient lastname]</span>"))).replaceAll("[patient birthday]","".concat("<span class='birthday'>[patient birthday]</span>"))).replaceAll("[patient insurance]","".concat("<span class='insurance'>[patient insurance]</span>"))).replaceAll("[patient address]","".concat("<span class='address'>[patient address]</span>"))).replaceAll("[patient phone]","".concat("<span class='phone'>[patient phone]</span>"))}this.props.onUpdate({id:this.state.id,title:this.state.title,type:this.state.selectedType,instance_id:e,body:t})}else alert("Bitte geben Sie die erforderlichen Felder ein")}},{key:"onChange",value:function(e){console.log("content",e),this.setState({content:e})}},{key:"typeChanged",value:function(e){this.setState({selectedType:e.target.value}),setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(".ql-placeholder .ql-picker-item")).forEach((function(e){return e.textContent=e.dataset.value})),document.querySelector(".ql-placeholder .ql-picker-label").innerHTML="Insert placeholder"}),10)}},{key:"titleChanged",value:function(e){this.setState({title:e.target.value})}},{key:"render",value:function(){var e=this;return console.log("this.state.instance",this.state.instance),u.a.createElement(A.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},u.a.createElement(O.a,{className:"p-10"},u.a.createElement(k.f,{title:u.a.createElement(C.a,{id:"sidebar.emailTemplates"}),center:!0}),u.a.createElement(h.a,{className:"box"},u.a.createElement(j.a,{className:"full-width",id:"datetime-local",type:"text",label:"Please input Template Title",InputLabelProps:{shrink:!0},value:this.state.title,onChange:this.titleChanged.bind(this),defaultValue:"Title..."}),u.a.createElement(q.a,{pt:5,className:"selection-wrap full-width"},u.a.createElement(T.a,{id:"page-size"},"Trigger Type"),u.a.createElement(N.a,{labelId:"page-size",id:"page-size",value:this.state.selectedType,onChange:this.typeChanged.bind(this),defaultValue:"Every year on birthdays",label:"Trigger Type"},I.map((function(e){return u.a.createElement("option",{key:e,value:e},e)}))))),u.a.createElement("div",{className:"text-editor"},"Every year on birthdays"==this.state.selectedType?u.a.createElement(w.a,{theme:"snow",value:this.state.content,onChange:function(t){return e.onChange(t)},modules:a.modules1}):u.a.createElement(w.a,{theme:"snow",value:this.state.content,onChange:function(t){return e.onChange(t)},modules:a.modules2}))),u.a.createElement(x.a,{className:"px-20 pb-20 justify-content-center"},u.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},!this.state.isEdit&&u.a.createElement(h.a,{mx:2},u.a.createElement(_.a,{variant:"contained",color:"primary",onClick:function(){return e.onSubmit(!0)}},"Submit")),this.state.isEdit&&u.a.createElement(h.a,{mx:2},u.a.createElement(_.a,{variant:"contained",color:"primary",onClick:function(){return e.onUpdate(!0)}},"Update")),u.a.createElement(_.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(u.a.Component);z.modules1={toolbar:{container:[[{placeholder:["[Name]","[Birthday Date]","[Address]","[Phone]"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]],handlers:{placeholder:function(e){if(e){var t=this.quill.getSelection().index;this.quill.insertText(t,e),this.quill.setSelection(t+e.length)}}}}},z.modules2={toolbar:{container:[[{placeholder:["[patient firstname]","[patient lastname]","[patient birthday]","[patient insurance]","[patient address]","[patient phone]"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]],handlers:{placeholder:function(e){if(e){var t=this.quill.getSelection().index;this.quill.insertText(t,e),this.quill.setSelection(t+e.length)}}}}};var H=z,P=a(117),L=a(1615),B=a.n(L),U=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={open:!1,instance:null,title:"",content:"",name:"{{patient.name}}"},n}return Object(s.a)(a,[{key:"openDialog",value:function(){var e=this;this.setState({open:!0},(function(){setTimeout((function(){document.getElementsByClassName("patientname").innerText=e.state.name}),1)}))}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return u.a.createElement(A.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},u.a.createElement(O.a,{className:"p-10"},u.a.createElement(h.a,null,u.a.createElement(B.a,{className:"closeBtn",onClick:function(){return e.onCloseDialog(!1)}})),u.a.createElement(h.a,{className:"p-10"},u.a.createElement(P.a,{variant:"h4",className:"title"},this.props.document.title)),u.a.createElement(h.a,{className:"p-10"},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.document.content}})),u.a.createElement(h.a,{textAlign:"center",pt:2})))}}]),a}(u.a.Component),V=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={open:!1},e}return Object(s.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1}),this.props.onConfirm(e)}},{key:"render",value:function(){var e=this;return u.a.createElement(A.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},u.a.createElement(O.a,null,u.a.createElement(h.a,{textAlign:"center",pt:2},u.a.createElement(P.a,{variant:"h5"},"Are you sure you want to delete this document permanently?"))),u.a.createElement(x.a,{className:"px-20 pb-20 justify-content-center"},u.a.createElement(h.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},u.a.createElement(h.a,{mx:2},u.a.createElement(_.a,{variant:"contained",color:"primary",onClick:function(){return e.onCloseDialog(!0)}},"Yes")),u.a.createElement(_.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(u.a.Component);window.patients={name:[],street:[],zip:[],city:[],insurance:[],insuranceNr:[],birthday:[],phone:[]};var F=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onCloseDialog=function(e){n.setState({oldData:null})},n.state={instances:[],templates:[],selectedDocument:{},oldData:{},columns:[{title:"Files",field:"action",render:function(e){return u.a.createElement("div",null,u.a.createElement(f.a,{className:"pointerIcon",onClick:function(){return n.viewDocument(e.body,e.title)}}))}},{title:"Title",field:"title"},{title:"Type",field:"type"},{title:"Actions",field:"actions",render:function(e){return u.a.createElement("div",null,u.a.createElement(v.a,{className:"pointerIcon",onClick:function(){return n.editDocument(e)}}),u.a.createElement(g.a,{className:"pointerIcon",onClick:function(){return n.ondeleteContact(e)}}))}}]},n.editorDialog=u.a.createRef(),n.viewDialog=u.a.createRef(),n.deleteDialog=u.a.createRef(),n.addDocument=n.addDocument.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"addDocument",value:function(){this.editorDialog.current.setState({userInstance_id:this.instance_id}),this.editorDialog.current.openDialog(),setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(".ql-placeholder .ql-picker-item")).forEach((function(e){return e.textContent=e.dataset.value})),document.querySelector(".ql-placeholder .ql-picker-label").innerHTML="Insert placeholder"+document.querySelector(".ql-placeholder .ql-picker-label").innerHTML}),10)}},{key:"viewDocument",value:function(e,t){this.setState({selectedDocument:{content:e,title:t}}),this.viewDialog.current.openDialog()}},{key:"editDocument",value:function(e){this.editorDialog.current.setState({id:e.id,title:e.title,content:e.body,isEdit:!0,userInstance_id:this.instance_id}),this.setState({oldData:e}),this.editorDialog.current.openDialog(),setTimeout((function(){Array.prototype.slice.call(document.querySelectorAll(".ql-placeholder .ql-picker-item")).forEach((function(e){return e.textContent=e.dataset.value})),document.querySelector(".ql-placeholder .ql-picker-label").innerHTML="Insert placeholder"+document.querySelector(".ql-placeholder .ql-picker-label").innerHTML}),10)}},{key:"onSubmit",value:function(e){var t=this;e&&S.a.addMails(e).then((function(e){t.setState((function(t){var a=Object(l.a)(t.templates);return a.push(e),Object(n.a)(Object(n.a)({},t),{},{templates:a})}))}))}},{key:"onUpdate",value:function(e){var t=this;e&&S.a.editMails(e).then((function(a){t.setState((function(a){var i=Object(l.a)(a.templates);i[i.indexOf(t.state.oldData)]=e;return Object(n.a)(Object(n.a)({},a),{},{templates:i,oldData:{}})}))}))}},{key:"ondeleteContact",value:function(e){console.log(";",e),this.setState({oldData:e}),this.deleteDialog.current.openDialog()}},{key:"deleteContactPermanent",value:function(e){var t=this;e&&S.a.deleteMails({id:this.state.oldData.id}).then((function(e){e&&t.setState((function(e){var a=Object(l.a)(e.templates);return a.splice(a.indexOf(t.state.oldData),1),Object(n.a)(Object(n.a)({},e),{},{templates:a})}))}))}},{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));this.instance_id=t.instance_id,S.a.showMails({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({templates:t})}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"tables-wrapper"},u.a.createElement(k.f,{title:u.a.createElement(C.a,{id:"sidebar.documents"}),center:!0}),u.a.createElement(p.a,{maxWidth:"lg",className:"documentContainer"},u.a.createElement(h.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(D.a,{title:u.a.createElement(C.a,{id:"sidebar.documents"}),columns:this.state.columns,data:this.state.templates,actions:[{icon:"note_add_outlined",tooltip:"my tooltip",position:"toolbar",onClick:function(){e.addDocument()}}]}))),u.a.createElement(H,{ref:this.editorDialog,instances:this.state.instances,onConfirm:function(t){return e.onSubmit(t)},onUpdate:function(t){return e.onUpdate(t)}}),u.a.createElement(U,{ref:this.viewDialog,document:this.state.selectedDocument}),u.a.createElement(V,{ref:this.deleteDialog,onConfirm:function(t){return e.deleteContactPermanent(t)}}))}}]),a}(d.Component);t.default=F}}]);
//# sourceMappingURL=19.d0b32c75.chunk.js.map