(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[60],{2529:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(16),s=a(18),l=a(17),c=a(28),o=a(0),i=a.n(o),m=a(32),p=a(128),d=a(413),h=a(61),u=a(2),b=a(236),g=a(24),f=a(64),E=a(524),x=a(36),y=a(1533),v=a(89),w=a(229),N=a(324),k=a.n(N),S=a(1514),O=a(115),j=function(e){var t=e.textBlock,n=e.even,r=e.adminPhotoUrl,s=e.data,l=e.selectedUserPhotoUrl;return n?i.a.createElement(h.a,{display:"flex",alignItems:"flex-start",mb:"5px",p:"5px 20px"},i.a.createElement(h.a,{pr:2,className:"thumb-wrap"},i.a.createElement(S.a,{className:"user-thumb",alt:"user-profile",src:l||a(747)})),i.a.createElement(h.a,{pt:"5px"},i.a.createElement(h.a,{mb:"5px",px:{xs:1,sm:2},py:{xs:"4px",sm:1},borderRadius:"borderRadius",className:"admin-content ".concat(t)},i.a.createElement(O.a,{variant:"body2"},s.comment)),i.a.createElement(O.a,{variant:"body1"},s.sent))):i.a.createElement(h.a,{display:"flex",alignItems:"flex-start",flexDirection:"row-reverse",mb:"5px",p:"5px 20px"},i.a.createElement(h.a,{pl:2,className:"user-thumb-wrap"},i.a.createElement(S.a,{className:"user-thumb",alt:"admin-thumb",src:r})),i.a.createElement(h.a,{pt:"5px"},i.a.createElement(h.a,{mb:"5px",px:{xs:1,sm:2},py:{xs:"4px",sm:1},bgcolor:"primary.main",className:t,borderRadius:"borderRadius"},i.a.createElement(h.a,{fontSize:"body2.fontSize",color:"primary.contrastText"},s.comment)),i.a.createElement(h.a,{display:"flex",justifyContent:"flex-end",alignItems:"center"},i.a.createElement(O.a,{variant:"body1"},s.sent),i.a.createElement(h.a,{px:"7px",fontSize:"subtitle1.fontSize",component:"span",color:"primary.main",className:"material-icons"},"done_all"))))},C=a(95),U=a(1557),z=a(458),T=a(1525),M=a(1553),W=a(1503),I=a(526),R=a(769),_=a(11),B=(a(38),function(e){Object(s.a)(c,e);var t=Object(l.a)(c);function c(){var e;Object(n.a)(this,c);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={message:"",anchorEl:null,chatOptions:["Mute Notifications","Block","Clear Chat","Send Contact"],randomMessages:["How are you?","We are glad to know","How can I help you?","We are happy to help you"],typing:!1,comment:""},e.handleClose=function(){e.setState({anchorEl:null})},e.chatOptionsHandler=function(t){e.setState({anchorEl:t.currentTarget})},e.handleChangeComment=function(t){e.setState({message:t.target.value})},e}return Object(r.a)(c,[{key:"onbotmsg",value:function(e){var t=this;if(""!==e){var a={user:this.props.selectedUser,message:e,isAdmin:!0,time:"Just Now"};this.props.sendMessageToUser(a),this.setState({message:""}),setTimeout((function(){t.refs.chatScroll.scrollToBottom()}),200),setTimeout((function(){t.setState({typing:!0}),t.refs.chatScroll.scrollToBottom()}),1e3),setTimeout((function(){t.setState({typing:!1}),t.getReply()}),3e3)}}},{key:"sendMsgOnEnter",value:function(e){"Enter"===e.key&&this.onSubmitMessage(e)}},{key:"onSubmitMessage",value:function(e){var t=this;if(""!==this.state.message){var a=JSON.parse(localStorage.getItem("user"));this.user_id=a.id,b.a.submitComment({orderId:this.props.selectedUser.orderId,comment:this.state.message,user_id:this.user_id}).then((function(e){var a={user:t.props.selectedUser,comment:t.state.message,isAdmin:!0,time:"Just Now"};t.props.sendMessageToUser(a),t.setState({message:""})}))}}},{key:"formate_date",value:function(e){var t="";if(e){var a=e.split(" "),n=a[0].split("-"),r=a[1].split(":");t=n[2]+"."+n[1]+"."+n[0]+"  um "+r[0]+":"+r[1]}return t}},{key:"getReply",value:function(){var e=Math.floor(Math.random()*this.state.randomMessages.length),t={id:(new Date).getTime(),message:this.state.randomMessages[e],user:this.props.selectedUser,isAdmin:!1,time:"Just Now"};this.props.sendMessageToUser(t),this.refs.chatScroll.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props,r=n.selectedUser,s=(n.admin_photo_url,this.state),l=s.chatOptions,c=s.anchorEl;return console.log("selectedUser.commentList",r),i.a.createElement(o.Fragment,null,i.a.createElement(h.a,{className:"chat-main-body",bgcolor:"background.paper"},i.a.createElement(h.a,{className:"button-wrap ".concat(t.chatHead)},i.a.createElement(h.a,{pl:{xs:"50px",md:3},pr:"5px",py:{xs:"10px",md:"20px"},display:"flex",alignItems:"center"},i.a.createElement(h.a,{style:{width:"calc(100% - 150px)"},textAlign:{xs:"left",md:"center"}},i.a.createElement(h.a,{pt:2,pb:2},i.a.createElement(O.a,{variant:"h6",className:"left"},r.patient.firstName,"\xa0",r.patient.lastName," geb.am ",r.patient.birthday," ",r.patient.insurance," ",r.patient.insuranceNr,".")),i.a.createElement(U.a,{container:!0},i.a.createElement(U.a,{item:!0,sm:4,md:4,lg:4,className:"left"},i.a.createElement(O.a,null,r.patient.streetNr),i.a.createElement(O.a,null,r.patient.zipCode,"\xa0",r.patient.city),i.a.createElement(O.a,null,"Tel.:\xa0",r.patient.phone1)),i.a.createElement(U.a,{item:!0,sm:4,md:4,lg:4,className:"left"},i.a.createElement(O.a,null,r.doctor.doctorName),i.a.createElement(O.a,null,r.doctor.zipcode,"\xa0",r.doctor.city),i.a.createElement(O.a,null,"Tel.: ",r.doctor.phone,"\xa0 Fax: ",r.doctor.fax)),i.a.createElement(U.a,{item:!0,sm:4,md:4,lg:4,className:"left"},i.a.createElement(O.a,null,r.pharmacy.pharmacyName),i.a.createElement(O.a,null,r.pharmacy.streetNr,", ",r.pharmacy.zipcode," ,",r.pharmacy.city,"  "),i.a.createElement(O.a,null,"Tel. ",r.pharmacy.phone,", Fax: ",r.pharmacy.fax)))),i.a.createElement(h.a,{className:"options-btn",width:150,textAlign:"right"},i.a.createElement(w.a,{className:t.margin,size:"small"},i.a.createElement(h.a,{component:"span",className:"material-icons"},"star_border")),i.a.createElement(w.a,{className:t.margin,size:"small"},i.a.createElement(h.a,{component:"span",className:"material-icons-outlined"},"videocam")),i.a.createElement(w.a,{size:"small",style:{marginRight:"4px"}},i.a.createElement(h.a,{component:"span",className:"material-icons-outlined",style:{transform:"rotate(270deg)"}},"call")),i.a.createElement(w.a,{size:"small","aria-owns":c?"simple-menu":null,"aria-haspopup":"true",onClick:this.chatOptionsHandler},i.a.createElement(h.a,{component:"span",className:"material-icons"},"more_vert")),i.a.createElement(z.a,{id:"simple-menu",anchorEl:c,open:Boolean(c),onClose:this.handleClose},l.map((function(t,a){return i.a.createElement(T.a,{key:a,onClick:e.handleClose},t)})))))),i.a.createElement(C.Scrollbars,{className:"rct-scroll",autoHide:!0,ref:"chatScroll",style:{height:"calc(100vh - 350px)"}},i.a.createElement(h.a,{mt:2},i.a.createElement(U.a,{container:!0},i.a.createElement(U.a,{item:!0,sm:1,md:1,lg:1,className:"left"},i.a.createElement(h.a,{className:"flex-column"},i.a.createElement(h.a,{mb:"3",className:"site-logo user-logo"},i.a.createElement("img",{src:r.userAvatar?r.userAvatar:a(727),alt:"search",width:"45",height:"45"})),i.a.createElement(h.a,{className:"font-2 warp-row"},r.user.name))),i.a.createElement(U.a,{item:!0,sm:4,md:4,lg:4,className:"left"},i.a.createElement(_.c,null,i.a.createElement(h.a,{pt:2,pb:2},i.a.createElement(O.a,{variant:"h6",className:"left"},"Medikamentenbestellung: ",r.orderId)),i.a.createElement(h.a,{pt:2,pb:2},i.a.createElement("ul",null,r.Medications.length>0&&r.Medications.map((function(e){return i.a.createElement("li",null,i.a.createElement(O.a,{className:"left"},e.medicationName,"."))}))))),i.a.createElement(h.a,{pt:1},this.formate_date(r.date))))),i.a.createElement(h.a,{className:t.chatBody,pt:3},r.commentList.map((function(e,a){return i.a.createElement(h.a,{key:a},i.a.createElement(j,{selectedUserPhotoUrl:r.pharmacy.pharmacyLogo,data:e,adminPhotoUrl:r.pharmacy.pharmacyLogo,textBlock:t.shadow}))})))),i.a.createElement("div",{className:t.chatFooter},i.a.createElement(M.a,null),i.a.createElement(h.a,{p:{xs:"10px 20px",md:"20px"}},i.a.createElement(h.a,{display:"flex",alignItems:"center"},i.a.createElement(h.a,{style:{width:"calc(100% - 60px"}},i.a.createElement(h.a,{className:"mr-3 w-100"},i.a.createElement(W.a,{className:"mb-0"},i.a.createElement(I.a,{type:"text",id:"search-msg",placeholder:"Type your message",value:this.state.message,className:"msg-input",onChange:this.handleChangeComment,onKeyPress:function(t){return e.sendMsgOnEnter(t)}})))),i.a.createElement(h.a,{style:{width:60},textAlign:"right",className:"send-icon"},i.a.createElement(R.a,{title:"Send Mail",placement:"bottom"},i.a.createElement(w.a,{className:t.sendBtn,onClick:function(t){return e.onSubmitMessage(t)}},i.a.createElement(h.a,{component:"span",fontSize:"18px",mr:1,className:"material-icons"},"send"))))),i.a.createElement(h.a,{display:"flex",alignItems:"center"},i.a.createElement(R.a,{title:"Attachment",placement:"bottom"},i.a.createElement(w.a,{className:t.pad10},i.a.createElement(h.a,{component:"span",fontSize:{xs:14,md:18},color:"text.secondary",className:"fas fa-paperclip"}))),i.a.createElement(R.a,{title:"Smiley",placement:"bottom"},i.a.createElement(w.a,{className:t.pad10},i.a.createElement(h.a,{component:"span",fontSize:{xs:14,md:18},color:"text.secondary",className:"far fa-laugh"}))),i.a.createElement(R.a,{title:"Insert Image",placement:"bottom"},i.a.createElement(w.a,{className:t.pad10},i.a.createElement(h.a,{component:"span",fontSize:{xs:14,md:18},color:"text.secondary",className:"far fa-image"}))))))))}}]),c}(o.Component)),L=Object(p.h)(Object(m.b)((function(e){return e.chatAppReducer}),{sendMessageToUser:g.N,getDefaultSelectedUsers:g.i})(Object(d.a)((function(e){return{margin:Object(c.a)({marginRight:10},e.breakpoints.down("sm"),{marginRight:5}),chatHead:Object(c.a)({boxShadow:"0 2px 8px 0 rgba(0,0,0,.09)"},e.breakpoints.down("xs"),{"& .options-btn .material-icons":{fontSize:19}}),chatBody:{"& .user-thumb":Object(c.a)({width:64,height:64,"@media (max-width:1560px)":{width:54,height:54}},e.breakpoints.down("xs"),{width:40,height:40})},pad10:Object(c.a)({padding:10},e.breakpoints.down("sm"),{padding:4}),chatFooter:Object(c.a)({},e.breakpoints.down("xs"),{"& .bot-button button":{padding:"2px 7px",minWidth:"auto"}}),sendBtn:Object(c.a)({border:"3px solid",borderColor:e.palette.primary.main,padding:10},e.breakpoints.down("sm"),{padding:8}),shadow:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}}}))(B))),A=a(407),P=a(1522),H=a(429),J=a.n(H),F=a(1545),D=a(723),G=a(724),K=(a(459),Object(d.a)((function(e){return{badge:{backgroundColor:e.palette.success.main,color:e.palette.success.main,boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),height:15,minWidth:15,borderRadius:"100%","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'},"@media (max-width:1560px)":{height:9,minWidth:9}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(F.a)),$=function(e){Object(s.a)(o,e);var t=Object(l.a)(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(r.a)(o,[{key:"switchChatWithUser",value:function(e){this.props.chatWithSelectedUser(e)}},{key:"formate_date",value:function(e){var t="";if(e){var a=e.split(" "),n=a[0].split("-"),r=a[1].split(":");t=n[2]+"."+n[1]+"."+n[0]+"  um "+r[0]+":"+r[1]}return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.recentChatUsers,r=t.selectedUser,s=this.props.classes;return 0===n.length?i.a.createElement("div",{className:"no-found-user-wrap"},i.a.createElement("h4",null,"No User Found")):i.a.createElement(D.a,{className:s.root},n.map((function(t,n){return i.a.createElement(G.a,{key:n,onClick:function(){return e.switchChatWithUser(t)},className:Object(u.a)(s.chatList,Object(c.a)({},s.activeList,r&&r.orderId===t.orderId))},i.a.createElement(h.a,{className:s.thumbWrap},i.a.createElement(K,{overlap:"circle",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"dot"},i.a.createElement(S.a,{className:s.large,src:t.picture?t.picture:a(747),alt:"user-profile"}))),i.a.createElement(h.a,{className:s.contentWrap},i.a.createElement(h.a,{mb:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},i.a.createElement(h.a,{fontWeight:"500",fontSize:"subtitle1.fontSize",color:"text.primary"},t.patient.firstName,"\xa0",t.patient.lastName),i.a.createElement(h.a,{component:"span",fontSize:"body1.fontSize",color:"text.secondary"},t.orderId)),i.a.createElement(h.a,{component:"span",fontSize:"subtitle2.fontSize",color:"text.secondary"},t.doctor.doctorName)))})))}}]),o}(o.Component),q=Object(p.h)(Object(m.b)((function(e){return e.chatAppReducer}),{chatWithSelectedUser:g.b,getRecentChatUsers:g.m,getDefaultSelectedUsers:g.i})(Object(d.a)((function(e){return{root:{paddingTop:0},large:{width:e.spacing(9),height:e.spacing(9),"@media (max-width:1560px)":{width:e.spacing(7),height:e.spacing(7)}},badgeOffline:{"& >span":{height:15,minWidth:15,borderRadius:"100%",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"@media (max-width:1560px)":{height:9,minWidth:9}}},chatList:{cursor:"pointer",padding:"14px 16px",borderBottom:"1px solid ".concat(e.palette.divider),transition:"all 0.3s ease-out","&:hover":{backgroundColor:e.palette.background.paper},"&:last-child":{borderBottom:0},"& .MuiBadge-colorPrimary":{backgroundColor:"#43a047"}},activeList:{backgroundColor:e.palette.background.paper},contentWrap:{width:"calc(100% - 90px)","@media (max-width:1560px)":{width:"calc(100% - 70px)"}},thumbWrap:{width:90,"@media (max-width:1560px)":{width:70}}}}))($))),Q=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"switchChatWithUser",value:function(e){this.props.chatWithSelectedUser(e)}},{key:"updateSearch",value:function(e){this.props.updateUsersSearch(e.target.value),this.props.onSearchUsers(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props.searchUsers;return i.a.createElement(h.a,{position:"relative"},i.a.createElement(h.a,{position:"absolute",top:"15px",left:16,right:16},i.a.createElement(A.a,{fullWidth:!0},i.a.createElement(I.a,{type:"text",name:"search-users",id:"search",placeholder:"Search",onChange:function(t){return e.updateSearch(t)},value:t,endAdornment:i.a.createElement(P.a,{position:"end"},i.a.createElement(J.a,null))}))),i.a.createElement(M.a,null),i.a.createElement("div",{className:"chat-list"},i.a.createElement(C.Scrollbars,{className:"rct-scroll",autoHide:!0,style:{height:"calc(100vh - 135px)"}},i.a.createElement(q,null))))}}]),a}(o.Component),V=Object(p.h)(Object(m.b)((function(e){return e.chatAppReducer}),{chatWithSelectedUser:g.b,updateUsersSearch:g.cb,onSearchUsers:g.C})(Q)),X=Object(E.a)((function(e){var t,a;return{root:{flexGrow:1,height:"auto",zIndex:1,overflow:"hidden",position:"relative",display:"flex",width:"100%"},drawer:Object(c.a)({},e.breakpoints.up("lg"),{width:300,flexShrink:0}),menuButton:(t={marginLeft:"18px  !important",position:"absolute",top:18},Object(c.a)(t,e.breakpoints.up("lg"),{display:"none"}),Object(c.a)(t,e.breakpoints.down("sm"),{top:11,marginLeft:"14px !important","& svg":{fontSize:"1.4rem"}}),Object(c.a)(t,e.breakpoints.down("xs"),{marginLeft:"14px !important","& svg":{fontSize:"1.25rem"}}),t),drawerPaper:Object(c.a)({width:300,borderRight:0,backgroundColor:e.palette.background.default},e.breakpoints.up("lg"),{position:"relative"}),content:{position:"relative",flexGrow:1},contentWrap:(a={position:"relative"},Object(c.a)(a,e.breakpoints.down("md"),{"& .rct-scroll":{height:"calc(100vh - 406px) !important"}}),Object(c.a)(a,e.breakpoints.down("sm"),{"& .rct-scroll":{height:"calc(100vh - 324px) !important"}}),Object(c.a)(a,e.breakpoints.down("xs"),{"& .rct-scroll":{height:"calc(100vh - 302px) !important"}}),a)}}));var Y=function(e){var t=e.container,a=X(),n=Object(x.a)(),r=i.a.useState(!1),s=Object(f.a)(r,2),l=s[0],c=s[1],o=function(){c(!l)},m=i.a.createElement(h.a,{className:"chat-sidebar",bgcolor:"background.default"},i.a.createElement(V,null));return i.a.createElement("div",{className:a.root},i.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},i.a.createElement(y.a,{lgUp:!0,implementation:"css"},i.a.createElement(v.a,{container:t,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:l,onClose:o,classes:{paper:"chat-drawer ".concat(a.drawerPaper)},ModalProps:{keepMounted:!0}},m)),i.a.createElement(y.a,{mdDown:!0,implementation:"css"},i.a.createElement(v.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},m))),i.a.createElement("main",{className:a.content},i.a.createElement(h.a,{height:"100%",className:a.contentWrap},i.a.createElement(w.a,{size:"small","aria-label":"open drawer",edge:"start",onClick:o,className:"chat-menu-icon ".concat(a.menuButton)},i.a.createElement(k.a,null)),i.a.createElement("div",null,i.a.createElement(L,null)))))},Z=function(e){Object(s.a)(o,e);var t=Object(l.a)(o);function o(e){var a;return Object(n.a)(this,o),(a=t.call(this,e)).menuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.state={btnType:"all",open:!0,anchorEl:null,mentions:"",recent:"",unread:"",favourite:""},a}return Object(r.a)(o,[{key:"componentWillMount",value:function(){var e=this.props.allChatUsers.filter((function(e){return 1==e.mentions}));this.state.mentions=e.length;var t=this.props.allChatUsers.filter((function(e){return 1==e.recent}));this.state.recent=t.length;var a=this.props.allChatUsers.filter((function(e){return 1==e.unread}));this.state.unread=a.length;var n=this.props.allChatUsers.filter((function(e){return 1==e.favourite}));this.state.favourite=n.length}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));this.instance_id=e.instance_id,this.user_id=e.id;var t=this;b.a.getOrdersByUserId({user_id:this.user_id,instance_id:this.instance_id}).then((function(e){var n=Object(c.a)({admin_photo_url:a(418),recentChatUsers:e,allRecentChatUsers:e,allChatUsers:e,selectedUser:e[0],searchUsers:"",isSidebarShow:!0,conversationType:"all"},"isupdated",!0);console.log("isthis.dddd",n),t.props.isupdated||t.props.updateUsers(n)}))}},{key:"handleClose",value:function(e){this.setState({anchorEl:null}),this.setState({btnType:e}),this.setConverTypes(e)}},{key:"handleClick",value:function(){this.setState({open:!this.state.open})}},{key:"setConverTypes",value:function(e){this.state.btnType=e,this.props.chatConversationType(e)}},{key:"render",value:function(){var e=this.props.classes,t=this.state;t.open,t.anchorEl,t.btnType,t.mentions,t.recent,t.unread,t.favourite;return i.a.createElement("div",{className:"hk-chat-wrap"},i.a.createElement(h.a,{className:e.root},i.a.createElement(h.a,{className:e.chatLayout},i.a.createElement(Y,null))))}}]),o}(o.Component);t.default=Object(p.h)(Object(m.b)((function(e){return e.chatAppReducer}),{chatConversationType:g.a,updateUsers:g.bb})(Object(d.a)((function(e){return{root:Object(c.a)({display:"flex"},e.breakpoints.down("md"),{display:"block"}),chatLayout:Object(c.a)({width:"calc(100% - 200px)"},e.breakpoints.down("md"),{width:"100%"}),list:Object(c.a)({width:200,zIndex:2,boxShadow:"rgba(0, 0, 0, 0.09) 1px 1px 8px"},e.breakpoints.down("md"),{width:"100%"}),navWrap:Object(c.a)({},e.breakpoints.down("md"),{display:"inline-flex","& >div >div:nth-child(1)":{whiteSpace:"nowrap"}}),nested:{paddingLeft:e.spacing(4),color:e.palette.text.secondary},countBadge:{height:20,fontSize:11,lineHeight:1.6,minWidth:20,textAlign:"center",padding:2,borderRadius:"100%",marginLeft:10},btn:{"& svg":{fontSize:"1.3rem",marginLeft:5}},active:{color:e.palette.primary.main,"& .MuiListItemText-primary":{color:e.palette.primary.main}},activeNested:{color:e.palette.primary.main,"& .MuiListItemText-primary":{color:e.palette.primary.main}}}}))(Z)))}}]);
//# sourceMappingURL=60.a844b166.chunk.js.map