(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[51],{2025:function(e,t,a){"use strict";a.r(t);var n=a(415),i=a(7),r=a(14),s=a(15),c=a(17),l=a(16),o=a(0),u=a.n(o),d=a(1583),f=a.n(d),p=a(1537),m=a(61),h=a(1685),b=a.n(h),g=a(199),v=a(19),y=a(29),O={},S={},N={},j=[],w=[],C=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={columns:[{title:"Picture",field:"picture",render:function(e){return u.a.createElement("img",{src:e.picture?e.picture:n.defaultUrl,className:"logo-td bdr-rad-50"})},editComponent:function(e){return u.a.createElement("input",{type:"file",onChange:function(t){return e.onChange(t.target.files[0])}})}},{title:"Salutation",field:"salutation"},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Street nr",field:"streetNr"},{title:"zip code",field:"zipCode"},{title:"City",field:"city"},{title:"Birthday",field:"birthday"},{title:"Phone 1",field:"phone1"},{title:"Phone 2",field:"phone2"},{title:"E-Mail",field:"email"},{title:"Resources",field:"resources",render:function(e){var t=JSON.parse(e.resources);return t||(t=[]),u.a.createElement(b.a,{options:j,selected:t})},editComponent:function(e){return u.a.createElement(b.a,{options:j,selected:n.state.selected,onSelectedChanged:function(e){return n.setState({selected:e})}})}},{title:"Insurance",field:"insurance",lookup:O},{title:"Services",field:"services",render:function(e){var t=JSON.parse(e.services);return t||(t=[]),u.a.createElement(b.a,{options:w,selected:t})},editComponent:function(e){return u.a.createElement(b.a,{options:w,selected:n.state.selectedservice,onSelectedChanged:function(e){return n.setState({selectedservice:e})}})}},{title:"Family Doctor",field:"familyDoctor",lookup:N},{title:"Key number",field:"keyNumber"},{title:"Floor",field:"floor"},{title:"Degree of care",field:"degreeCare"},{title:"Pharmacy",field:"pharmacy",lookup:S},{title:"User group",field:"userGroup"},{title:"Status",field:"status"}],data:[],selected:[],selectedservice:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.names=["Oliver Hansen","Van Henry","April Tucker","Ralph Hubbard","Omar Alexander","Carlos Abbott","Miriam Wagner","Bradley Wilkerson","Virginia Andrews","Kelly Snyder"],this.defaultUrl="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSTbZrzTIuXAe01k5wgrhWGzPRPRliQygmBCA&usqp=CAU";var t=JSON.parse(localStorage.getItem("user_id"));this.instance_id=t.instance_id,console.log("res",this.instance_id),g.a.showPatients({instance_id:this.instance_id,pagination:1}).then((function(t){t.services.map((function(e){w.push({label:e.services,value:e.services})})),t.resources.map((function(e){j.push({label:e.resources,value:e.resources})})),t.family_doctors.map((function(e){N[e.family_doctors]=e.family_doctors})),t.insurances.map((function(e){O[e.insurances]=e.insurances})),t.pharmacies.map((function(e){S[e.pharmacies]=e.pharmacies})),e.setState((function(e){var a=t.patients;return Object(i.a)(Object(i.a)({},e),{},{data:a})}))}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"tables-wrapper search-table-wrap"},u.a.createElement(v.f,{title:u.a.createElement(y.a,{id:"sidebar.familiy-directors"}),center:!0}),u.a.createElement(p.a,{maxWidth:"lg"},u.a.createElement(m.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(f.a,{title:u.a.createElement(y.a,{id:"sidebar.familiy-directors"}),columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(t){return new Promise((function(a){setTimeout((function(){a(),t.instance_id=e.instance_id,t.resources=JSON.stringify(e.state.selected);var r=new FormData;r.append("file",t.picture),t.picture="",r.append("data",JSON.stringify(t)),g.a.addPatients(r).then((function(t){console.log("res",t),e.setState((function(e){var a=Object(n.a)(e.data);return a.push(t),Object(i.a)(Object(i.a)({},e),{},{data:a})}))}))}),600)}))},onRowUpdate:function(t,a){return new Promise((function(r){setTimeout((function(){r();var s=new FormData;"object"==typeof t.picture&&(s.append("file",t.picture),t.picture=""),t.resources=JSON.stringify(e.state.selected),s.append("data",JSON.stringify(t)),g.a.editPatients(s).then((function(t){a&&e.setState((function(e){var r=Object(n.a)(e.data);return r[r.indexOf(a)]=t,Object(i.a)(Object(i.a)({},e),{},{data:r})}))}))}),600)}))},onRowDelete:function(t){return new Promise((function(a){setTimeout((function(){a(),console.log(";oldData",t.id),g.a.deletePatients({id:t.id}).then((function(a){console.log("res",a),e.setState((function(e){var a=Object(n.a)(e.data);return a.splice(a.indexOf(t),1),Object(i.a)(Object(i.a)({},e),{},{data:a})}))}))}),600)}))}}}))))}}]),a}(o.Component);t.default=C}}]);
//# sourceMappingURL=51.e2917c6b.chunk.js.map