{"version":3,"sources":["routes/Tables/Documents/Components/EditorDialog.js","routes/Tables/Documents/Components/ViewDialog.js","routes/Tables/Documents/Components/DeleteDialog.js","routes/Tables/Documents/index.js"],"names":["EditorDialog","props","state","open","instance","title","content","contentHeight","contentWidth","isEdit","id","onInit","note","reset","match","replace","insertText","this","setState","isTrue","onConfirm","instance_id","onUpdate","document","getElementById","clientHeight","clientWidth","e","target","value","Dialog","onClose","closeDialog","bind","aria-labelledby","className","DialogContent","IntlMessages","center","Box","TextField","type","label","InputLabelProps","shrink","onChange","titleChanged","defaultValue","FormControl","InputLabel","Select","labelId","instanceChanged","instances","map","key","instanceName","textAlign","pt","options","height","dialogsInBody","toolbar","DialogActions","mb","width","display","justifyContent","p","mx","Button","variant","color","onClick","onSubmit","onCloseDialog","React","Component","ViewDialog","bgcolor","Container","Typography","fontSize","src","instanceLogo","dangerouslySetInnerHTML","__html","email","DeleteDialog","Documents","popupResponse","oldData","documents","selectedDocument","editorDialog","createRef","viewDialog","deleteDialog","addDocument","current","openDialog","userService","addDocuments","then","res","length","push","console","log","editDocuments","prevState","indexOf","deleteDocuments","splice","user","JSON","parse","localStorage","getItem","params","showDocuments","pagination","folder_id","docs","filter","a","showInstances","maxWidth","px","xs","lg","TableContainer","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","row","viewDocument","component","scope","created_at","editDocument","ondeleteContact","ref","deleteContactPermanent"],"mappings":"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","file":"static/js/53.f61d3775.chunk.js","sourcesContent":["/**\r\n * Confirmation dialog component\r\n*/\r\n/* eslint-disable */\r\nimport React from 'react';\r\nimport { Button, Box, Typography, Dialog, DialogActions, DialogContent, TextField, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport ReactSummernote from 'react-summernote';\r\nimport 'react-summernote/dist/react-summernote.css'; // import styles\r\n\r\nimport { SmallTitleBar } from '../../../../components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport { userService } from '../../../../_services';\r\nclass EditorDialog extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\tstate = {\r\n\t\topen: false,\r\n\t\tinstance: null,\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t\tcontentHeight: 0,\r\n\t\tcontentWidth: 0,\r\n\t\tisEdit: false,\r\n\t\tid : null\r\n\t};\r\n\r\n\t//Define function for open confirmation dialog box\r\n\topenDialog() {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box \r\n\tcloseDialog() {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box and callback for delete item \r\n\tonCloseDialog(isTrue) {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\tonSubmit() {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onConfirm({ title: this.state.title, instance_id: this.state.instance, content: this.state.content, contentHeight: this.state.contentHeight, contentWidth: this.state.contentWidth });\r\n\r\n\t}\r\n\tonUpdate() {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onUpdate({id : this.state.id, title: this.state.title, instance_id: this.state.instance, content: this.state.content, contentHeight: this.state.contentHeight, contentWidth: this.state.contentWidth });\r\n\r\n\t}\r\n\tonChange(content) {\r\n\t\tlet contentHeight = document.getElementById('editArea').clientHeight;\r\n\t\tlet contentWidth = document.getElementById('editArea').clientWidth;\r\n\r\n\t\tthis.setState({ content: content, contentHeight: contentHeight, contentWidth: contentWidth });\r\n\t}\r\n\tinstanceChanged(e) {\r\n\t\tthis.setState({ instance: e.target.value });\r\n\t}\r\n\ttitleChanged(e) {\r\n\t\tthis.setState({ title: e.target.value });\r\n\t}\r\n\tonInit = (note) => {\r\n\t\tnote.reset()\r\n\t\tconst regex = /(\\<\\w*)((\\s\\/\\>)|(.*\\<\\/\\w*\\>))/i\r\n\t\tif (this.state.content.match(regex) !== null) {\r\n\t\t\tnote.replace(this.state.content)\r\n\t\t} else {\r\n\t\t\tnote.insertText(this.state.content)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tonClose={this.closeDialog.bind(this)}\r\n\t\t\t\taria-labelledby=\"responsive-dialog-title\"\r\n\t\t\t\tclassName=\"confirmation-dialog\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className=\"p-10\">\r\n\t\t\t\t\t<SmallTitleBar\r\n\t\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.document\" />}\r\n\t\t\t\t\t\tcenter\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Box className=\"box\">\r\n\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tclassName=\"full-width\"\r\n\t\t\t\t\t\t\tid=\"datetime-local\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Please input document title\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvalue={this.state.title}\r\n\t\t\t\t\t\t\tonChange={this.titleChanged.bind(this)}\r\n\t\t\t\t\t\t\tdefaultValue=\"Title...\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl className=\"selection-wrap full-width\" >\r\n\t\t\t\t\t\t\t<InputLabel id=\"page-size\">Please Select a Instance</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tlabelId=\"page-size\"\r\n\t\t\t\t\t\t\t\tid=\"page-size\"\r\n\t\t\t\t\t\t\t\tvalue={this.state.instance}\r\n\t\t\t\t\t\t\t\tonChange={this.instanceChanged.bind(this)}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t>{\r\n\t\t\t\t\t\t\t\t\tthis.props.instances.map(instance => {\r\n\t\t\t\t\t\t\t\t\t\treturn (<option key={instance.id} value={instance.id}>{instance.instanceName}</option>)\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Box>\r\n\r\n\r\n\t\t\t\t\t<Box textAlign=\"center\" id=\"editArea\" pt={2}>\r\n\t\t\t\t\t\t<ReactSummernote\r\n\r\n\t\t\t\t\t\t\tonInit={this.onInit.bind(this)}\r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\theight: 350,\r\n\t\t\t\t\t\t\t\tdialogsInBody: true,\r\n\t\t\t\t\t\t\t\ttoolbar: [\r\n\t\t\t\t\t\t\t\t\t['style', ['style']],\r\n\t\t\t\t\t\t\t\t\t['font', ['bold', 'underline', 'clear']],\r\n\t\t\t\t\t\t\t\t\t['fontname', ['fontname']],\r\n\t\t\t\t\t\t\t\t\t['para', ['ul', 'ol', 'paragraph']],\r\n\t\t\t\t\t\t\t\t\t['table', ['table']],\r\n\t\t\t\t\t\t\t\t\t['view', ['fullscreen', 'codeview']]\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonChange={(content) => this.onChange(content)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions className=\"px-20 pb-20 justify-content-center\">\r\n\t\t\t\t\t<Box mb={2} width=\"100%\" display=\"flex\" justifyContent=\"center\" p={1} textAlign=\"center\">\r\n\t\t\t\t\t\t{!this.state.isEdit && <Box mx={2}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => this.onSubmit(true)}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{this.state.isEdit && <Box mx={2}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => this.onUpdate(true)}>\r\n\t\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => this.onCloseDialog(false)} >\r\n\t\t\t\t\t\t\tNo\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EditorDialog;","/**\r\n * Confirmation dialog component\r\n*/\r\n/* eslint-disable */\r\nimport React from 'react';\r\nimport { Button, Box, Typography, Dialog, Container, DialogActions, DialogContent, TextField, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport { SmallTitleBar } from '../../../../components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\n\r\nclass ViewDialog extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\tstate = {\r\n\t\topen: false,\r\n\t\tinstance: null,\r\n\t\ttitle: '',\r\n\t\tcontent: ''\r\n\t};\r\n\r\n\t//Define function for open confirmation dialog box\r\n\topenDialog() {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box \r\n\tcloseDialog() {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box and callback for delete item \r\n\tonCloseDialog(isTrue) {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tonClose={this.closeDialog.bind(this)}\r\n\t\t\t\taria-labelledby=\"responsive-dialog-title\"\r\n\t\t\t\tclassName=\"confirmation-dialog\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className=\"p-10\">\r\n\t\t\t\t\t<Box>\r\n\t\t\t\t\t\t<CloseIcon className=\"closeBtn\" onClick={() => this.onCloseDialog(false)}></CloseIcon>\r\n\t\t\t\t\t</Box>\r\n\r\n\t\t\t\t\t<Box bgcolor=\"background.paper\" className={`title-banner`} >\r\n\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t<Box className=\"title-content\" textAlign=\"center\">\r\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">\r\n\t\t\t\t\t\t\t\t\t{this.props.document.instanceName}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Box pt={1} fontSize=\"body2.fontSize\">\r\n\t\t\t\t\t\t\t\t\t<img src={this.props.document.instanceLogo} />\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className=\"p-10\">\r\n\t\t\t\t\t\t<Typography variant=\"h4\" className=\"title\">\r\n\t\t\t\t\t\t\t{this.props.document.title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box className=\"p-10\">\r\n\r\n\t\t\t\t\t\t<div dangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t__html: this.props.document.content\r\n\t\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</Box>\r\n\r\n\r\n\t\t\t\t\t<Box textAlign=\"center\" pt={2}>\r\n\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Box bgcolor=\"background.paper\" className={`title-banner`} >\r\n\t\t\t\t\t\t<Container>\r\n\t\t\t\t\t\t\t<Box className=\"title-content\" textAlign=\"center\">\r\n\t\t\t\t\t\t\t\t<Box pt={1} fontSize=\"body2.fontSize\">\r\n\t\t\t\t\t\t\t\t\tinstance Name : {this.props.document.instanceName}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t<Box pt={1} fontSize=\"body2.fontSize\">\r\n\t\t\t\t\t\t\t\t\tContact Email : {this.props.document.email}\r\n\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ViewDialog;","/**\r\n * Confirmation dialog component\r\n*/\r\n/* eslint-disable */\r\nimport React from 'react';\r\nimport {Button, Box,Typography, Dialog, DialogActions, DialogContent } from '@material-ui/core';\r\n\r\nclass DeleteDialog extends React.Component {\r\n\r\n\tstate = {\r\n\t\topen: false,\r\n\t};\r\n\r\n\t//Define function for open confirmation dialog box\r\n\topenDialog() {\r\n\t\tthis.setState({ open: true });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box \r\n\tcloseDialog() {\r\n\t\tthis.setState({ open: false });\r\n\t};\r\n\r\n\t//Define function for close confirmation dialog box and callback for delete item \r\n\tonCloseDialog(isTrue) {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onConfirm(isTrue)\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tonClose={this.closeDialog.bind(this)}\r\n\t\t\t\taria-labelledby=\"responsive-dialog-title\"\r\n\t\t\t\tclassName=\"confirmation-dialog\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Box textAlign=\"center\" pt={2}>\r\n\t\t\t\t\t\t<Typography variant=\"h5\">\r\n\t\t\t\t\t\t\tAre you sure you want to delete this document permanently?\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions className=\"px-20 pb-20 justify-content-center\">\r\n\t\t\t\t\t<Box mb={2} width=\"100%\" display=\"flex\" justifyContent=\"center\" p={1} textAlign=\"center\">\r\n\t\t\t\t\t\t<Box mx={2}>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => this.onCloseDialog(true)}>\r\n\t\t\t\t\t\t\t\tYes\r\n               \t\t</Button>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => this.onCloseDialog(false)} >\r\n\t\t\t\t\t\t\tNo\r\n               </Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DeleteDialog;","/**\r\n * Basic Table\r\n*/\r\nimport React, { Component } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Container, Box } from '@material-ui/core';\r\nimport InsertDriveFileOutlinedIcon from '@material-ui/icons/InsertDriveFileOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\r\nimport VisibilityOutlinedIcon from '@material-ui/icons/VisibilityOutlined';\r\nimport NoteAddOutlinedIcon from '@material-ui/icons/NoteAddOutlined';\r\n// Components\r\nimport { SmallTitleBar, CustomCard } from 'components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\nimport { userService } from '../../../_services';\r\nimport EditorDialog from './Components/EditorDialog';\r\nimport ViewDialog from './Components/ViewDialog';\r\nimport DeleteDialog from './Components/DeleteDialog';\r\n\r\nclass Documents extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tinstances: [],\r\n\t\t\tdocuments: [],\r\n\t\t\tselectedDocument: {},\r\n\t\t\toldData: {},\r\n\t\t}\r\n\t\tthis.editorDialog = React.createRef();\r\n\t\tthis.viewDialog = React.createRef();\r\n\t\tthis.deleteDialog = React.createRef();\r\n\t\tthis.addDocument = this.addDocument.bind(this);\r\n\t}\r\n\taddDocument() {\r\n\t\tthis.editorDialog.current.openDialog();\r\n\t}\r\n\tviewDocument(content, email, instanceLogo, instanceName, title) {\r\n\t\tthis.setState({ selectedDocument: { content: content, instanceLogo: instanceLogo, email: email, instanceName: instanceName, title: title } });\r\n\t\tthis.viewDialog.current.openDialog();\r\n\t}\r\n\teditDocument(oldData) {\r\n\r\n\t\tthis.editorDialog.current.setState({ id: oldData.id, instance: oldData.instance_id, title: oldData.title, content: oldData.content, isEdit: true });\r\n\t\tthis.setState({ oldData });\r\n\t\tthis.editorDialog.current.openDialog();\r\n\t}\r\n\tonSubmit(popupResponse) {\r\n\t\tif (popupResponse) {\r\n\r\n\t\t\tuserService.addDocuments(popupResponse).then(res => {\r\n\t\t\t\tif (res.length) {\r\n\t\t\t\t\tlet documents = this.state.documents;\r\n\t\t\t\t\tdocuments.push(res[0]);\r\n\t\t\t\t\tthis.setState({ documents: documents });\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tonUpdate(popupResponse) {\r\n\t\tif (popupResponse) {\r\n\t\t\tconsole.log('res edit', popupResponse);\r\n\t\t\tuserService.editDocuments(popupResponse).then(res => {\r\n\t\t\t\tif (res.length) {\r\n\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\tconst documents = [...prevState.documents];\r\n\t\t\t\t\t\tdocuments[documents.indexOf(this.state.oldData)] = res[0];\r\n\t\t\t\t\t\tlet oldData = {};\r\n\t\t\t\t\t\treturn { ...prevState, documents, oldData };\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tondeleteContact(oldData) {\r\n\t\tconsole.log(';', oldData);\r\n\t\tthis.setState({ oldData })\r\n\t\tthis.deleteDialog.current.openDialog();\r\n\t}\r\n\r\n\tdeleteContactPermanent(popupResponse) {\r\n\t\tif (popupResponse) {\r\n\t\t\tuserService.deleteDocuments({ id: this.state.oldData.id }).then(res => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\tconst documents = [...prevState.documents];\r\n\t\t\t\t\t\tdocuments.splice(documents.indexOf(this.state.oldData), 1);\r\n\t\t\t\t\t\treturn { ...prevState, documents };\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tonCloseDialog = (popupResponse) => {\r\n\t\tthis.setState({\r\n\t\t\toldData: null,\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tthis.instance_id = user.instance_id;\r\n\t\tthis.documents = this.props.match.params.id;\r\n\t\tuserService.showDocuments({ instance_id: this.instance_id, pagination: 1, folder_id: this.folder_id }).then(res => {\r\n\t\t\tif (this.documents != '*') {\r\n\t\t\t\tlet docs = JSON.parse(this.documents);\r\n\t\t\t\tres = res.filter((a) => {\r\n\t\t\t\t\treturn docs.indexOf(a.id) > -1;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.setState({ documents: res });\r\n\t\t})\r\n\t\tuserService.showInstances({ instance_id: this.instance_id, pagination: 1 }).then(res => {\r\n\t\t\tthis.setState({ instances: res.instances });\r\n\r\n\t\t})\r\n\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"tables-wrapper\">\r\n\t\t\t\t<SmallTitleBar\r\n\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.documents\" />}\r\n\t\t\t\t\tcenter\r\n\t\t\t\t/>\r\n\t\t\t\t<Container maxWidth=\"lg\">\r\n\t\t\t\t\t<Box px={{ xs: '12px', lg: 0 }} className=\"page-space\">\r\n\t\t\t\t\t\t<CustomCard title={<IntlMessages id=\"sidebar.documents\" />}>\r\n\t\t\t\t\t\t\t<Box>\t<NoteAddOutlinedIcon onClick={this.addDocument} /></Box>\r\n\r\n\t\t\t\t\t\t\t<Box pt={3}>\r\n\t\t\t\t\t\t\t\t<TableContainer>\r\n\t\t\t\t\t\t\t\t\t<Table aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell></TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">Title</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">Created_At</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">Actions</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t</TableHead>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t\t{this.state.documents.map(row => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={row.title} >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\" ><InsertDriveFileOutlinedIcon className=\"pointerIcon\" onClick={() => this.viewDocument(row.content, row.email, row.instanceLogo, row.instanceName, row.title)} /></TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{row.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">{row.created_at}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditOutlinedIcon className=\"pointerIcon\" onClick={() => this.editDocument(row)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineOutlinedIcon className=\"pointerIcon\" onClick={() => this.ondeleteContact(row)} />\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t\t</TableContainer>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</CustomCard>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>\r\n\r\n\t\t\t\t<EditorDialog\r\n\t\t\t\t\tref={this.editorDialog}\r\n\t\t\t\t\tinstances={this.state.instances}\r\n\t\t\t\t\tonConfirm={(res) => this.onSubmit(res)}\r\n\t\t\t\t\tonUpdate={(res) => this.onUpdate(res)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<ViewDialog\r\n\t\t\t\t\tref={this.viewDialog}\r\n\t\t\t\t\tdocument={this.state.selectedDocument}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<DeleteDialog\r\n\t\t\t\t\tref={this.deleteDialog}\r\n\t\t\t\t\tonConfirm={(res) => this.deleteContactPermanent(res)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Documents;"],"sourceRoot":""}