{"version":3,"sources":["routes/Tables/Pharmacies/index.js"],"names":["Pharmacies","props","state","columns","title","field","render","rowData","src","pharmacyLogo","defaultUrl","className","editComponent","type","onChange","e","target","files","required","size","color","checked","notifications","console","log","isEditNotifications","id","setState","selectedData","logo","data","this","user","JSON","parse","localStorage","getItem","instance_id","userService","showPharmacies","pagination","then","res","prevState","center","maxWidth","px","xs","lg","localization","header","actions","editable","onRowAdd","newData","Promise","resolve","setTimeout","formData","FormData","append","stringify","addPharmacies","push","onRowUpdate","oldData","editPharmacies","indexOf","onRowDelete","deletePharmacies","splice","Component"],"mappings":"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","file":"static/js/68.57d2b786.chunk.js","sourcesContent":["/**\r\n * Search Table\r\n*/\r\nimport React, { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { Container, Box, Switch } from '@material-ui/core';\r\nimport { userService } from '../../../_services';\r\n//Components\r\nimport { SmallTitleBar } from 'components/GlobalComponents';\r\nimport IntlMessages from 'util/IntlMessages';\r\n\r\nclass Pharmacies extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcolumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Pharmacy logo', field: 'pharmacyLogo', render: rowData => <img src={rowData.pharmacyLogo ? rowData.pharmacyLogo : this.defaultUrl} className=\"logo-td bdr-rad-50\" />,\r\n\t\t\t\t\teditComponent: props => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\tonChange={e => props.onChange(e.target.files[0])}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{ title: 'Pharmacy name', field: 'pharmacyName' },\r\n\t\t\t\t{ title: 'Street Nr', field: 'streetNr' },\r\n\t\t\t\t{ title: 'zip code', field: 'zipCode' },\r\n\t\t\t\t{ title: 'City', field: 'city' },\r\n\t\t\t\t{ title: 'Phone', field: 'phone', type: 'string', required: true },\r\n\t\t\t\t{ title: 'Fax', field: 'fax' },\r\n\t\t\t\t{ title: 'Email', field: 'email' },\r\n\t\t\t\t{ title: 'Password', field: 'password', type: 'string' },\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\ttitle: 'Notifications', field: 'notifications', render: rowData => {\r\n\t\t\t\t\t\treturn (<Switch\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tchecked={rowData.notifications ? true : false}\r\n\t\t\t\t\t\t/>)\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\teditComponent: rowData => {\r\n\t\t\t\t\t\tconsole.log('rowData', rowData);\r\n\t\t\t\t\t\tif (this.state.isEditNotifications && rowData.rowData.id) {\r\n\t\t\t\t\t\t\tthis.setState({ notifications: rowData.rowData.notifications ? true : false, isEditNotifications: false });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn (<Switch\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tchecked={this.state.notifications}\r\n\t\t\t\t\t\t\tonChange={e => this.setState({ notifications: e.target.checked })}\r\n\t\t\t\t\t\t/>)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tselectedData: {\r\n\t\t\t\tlogo: '',\r\n\t\t\t},\r\n\t\t\tdata: [],\r\n\t\t\tnotifications : true,\r\n\t\t\tisEditNotifications : false\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.defaultUrl = \"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSTbZrzTIuXAe01k5wgrhWGzPRPRliQygmBCA&usqp=CAU\";\r\n\t\tlet user = JSON.parse(localStorage.getItem('user'));\r\n\t\tthis.instance_id = user.instance_id;\r\n\r\n\t\tuserService.showPharmacies({ instance_id: this.instance_id, pagination: 1 }).then(res => {\r\n\t\t\tconsole.log('res', res);\r\n\t\t\tthis.setState(prevState => {\r\n\t\t\t\tconst data = res;\r\n\t\t\t\treturn { ...prevState, data };\r\n\t\t\t});\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"tables-wrapper search-table-wrap\">\r\n\t\t\t\t<SmallTitleBar\r\n\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.pharmacies\" />}\r\n\t\t\t\t\tcenter\r\n\t\t\t\t/>\r\n\t\t\t\t<Container maxWidth=\"lg\">\r\n\t\t\t\t\t<Box px={{ xs: '12px', lg: 0 }} className=\"page-space\">\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\ttitle={<IntlMessages id=\"sidebar.pharmacies\" />}\r\n\t\t\t\t\t\t\tcolumns={this.state.columns}\r\n\t\t\t\t\t\t\tdata={this.state.data}\r\n\t\t\t\t\t\t\tlocalization={{\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\tactions: 'Funktionen'\r\n\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\t\tonRowAdd: newData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.instance_id = this.instance_id;\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.notifications = this.state.notifications;\r\n\t\t\t\t\t\t\t\t\t\t\tconst formData = new FormData()\r\n\t\t\t\t\t\t\t\t\t\t\tformData.append('file', newData.pharmacyLogo);\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.pharmacyLogo = '';\r\n\t\t\t\t\t\t\t\t\t\t\tformData.append('data', JSON.stringify(newData));\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.addPharmacies(formData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({notifications : true , isEditNotifications : true})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconst formData = new FormData()\r\n\t\t\t\t\t\t\t\t\t\t\tif (typeof newData.pharmacyLogo == 'object') {\r\n\t\t\t\t\t\t\t\t\t\t\t\tformData.append('file', newData.pharmacyLogo);\r\n\t\t\t\t\t\t\t\t\t\t\t\tnewData.pharmacyLogo = '';\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tnewData.notifications = this.state.notifications;\r\n\t\t\t\t\t\t\t\t\t\t\tformData.append('data', JSON.stringify(newData));\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.editPharmacies(formData).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (oldData) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata[data.indexOf(oldData)] = res;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({notifications : true , isEditNotifications : true})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tonRowDelete: oldData =>\r\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(';oldData', oldData.id);\r\n\t\t\t\t\t\t\t\t\t\t\tuserService.deletePharmacies({ id: oldData.id }).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(prevState => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst data = [...prevState.data];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata.splice(data.indexOf(oldData), 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn { ...prevState, data };\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}, 600);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default Pharmacies;\r\n\r\n\r\n"],"sourceRoot":""}