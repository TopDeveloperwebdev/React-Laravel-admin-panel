(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[22],{2347:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(417)).default)(r.default.createElement("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartOutlined");t.default=i},2348:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(417)).default)(r.default.createElement("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zM5 7V5h14v2H5zm5.56 10.46l5.93-5.93-1.06-1.06-4.87 4.87-2.11-2.11-1.06 1.06z"}),"EventAvailableOutlined");t.default=i},2349:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(417)).default)(r.default.createElement("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM20 4v13.17L18.83 16H4V4h16zM6 12h12v2H6zm0-3h12v2H6zm0-3h12v2H6z"}),"CommentOutlined");t.default=i},2350:function(e,t,a){"use strict";var n=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(0)),i=(0,n(a(417)).default)(r.default.createElement("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 9c2.7 0 5.8 1.29 6 2v1H6v-.99c.2-.72 3.3-2.01 6-2.01m0-11C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),"PermIdentityOutlined");t.default=i},2525:function(e,t,a){"use strict";a.r(t);var n=a(194),r=a(7),i=a(15),l=a(16),s=a(18),c=a(17),o=a(0),u=a.n(o),d=a(414),m=a(1553),g=a(61),p=a(1559),h=a(115),f=a(228),v=a(2348),E=a.n(v),b=a(2347),y=a.n(b),T=a(30),N=a(11),w=a(1645),z=a(237),M=a(38),O=a(2349),C=a.n(O),S=a(2350),j=a.n(S),k=(a(325),["Family doctors","Pharmacies","Care managers","Patients","Related Users"]),_=[{type:"Benutzer erzeugt eine Bestellung",icon:"order",title:"Wenn der Benutzer eine Bestellung t\xe4tigt",description:"Workflow wird ausgel\xf6st, wenn ein Benutzer eine Bestellung t\xe4tigt"},{type:"Jedes Jahr an Geburtstagen",icon:"birthday",title:"Der Jahrestag eines Datums",description:"Workflow, der jedes Jahr an bestimmten Datum ausgel\xf6st wird (z.B. Geburtstag)"},{type:"Kommentar f\xfcr Bestellung",icon:"comment",title:"Kommentar zum Vorgang",description:"Workflow, der jedes Jahr an bestimmten Datum ausgel\xf6st wird (z.B. Geburtstag)"},{type:"Neuer Patient",icon:"patient",title:"Neue Patienten wurde hinzugef\xfcgt",description:"Workflow, der jedes Jahr an bestimmten Datum ausgel\xf6st wird (z.B. Geburtstag)"}],H=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={selectedRow:{firstName:"Zachery",lastName:"Terrell",designation:"Web Developer",city:"Chakwal",postal:"352950",address:"Ap #262-5976 Elementum Rd.",country:"Virgin Islands",imageUrl:"user-1.jpg",contactNo:"9876543210",lastModified:"17/3/2019",tableData:{id:0}},selectedRowForStyle:null,selectedUsers:[],selectedType:"Jedes Jahr an Geburtstagen",TemplateAllList:[],TemplateList:[],triggers:[],Template:"",id:"",isEditSelectedTrigger:!1},e.handleRowClick=function(t){var a=[];e.state.TemplateAllList.forEach((function(e){e.type==t&&a.push(e.title)}));var n,i,l=!1,s=[],c=e.state.triggers.filter((function(e){return e.type==t}));c.length&&(l=!0,s=JSON.parse(c[0].usergroup),n=c[0].template,i=c[0].id),e.setState((function(e){return Object(r.a)(Object(r.a)({},e),{},{TemplateList:a,selectedType:t,selectedUsers:s,Template:n,id:i,isEditSelectedTrigger:l})}))},e.onChangeUsers=function(t){console.log("adfa",t),e.setState({selectedUsers:Object(n.a)(t.target.value)})},e.onChangeTemplate=function(t){e.setState({Template:t.target.value})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));this.instance_id=t.instance_id,console.log("res",this.instance_id),z.a.showTriggers({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({TemplateAllList:Object(n.a)(t.templates),triggers:Object(n.a)(t.triggers)}),e.handleRowClick("Benutzer erzeugt eine Bestellung")}))}},{key:"onSubmitTrigger",value:function(){var e=this;z.a.addTriggers({instance_id:this.instance_id,type:this.state.selectedType,usergroup:JSON.stringify(this.state.selectedUsers),template:this.state.Template}).then((function(t){M.NotificationManager.success("Sie haben den Triggerfluss erfolgreich gespeichert'"),e.setState((function(e){var a=Object(n.a)(e.triggers);return a.push(t),Object(r.a)(Object(r.a)({},e),{},{triggers:a,isEditSelectedTrigger:!0})}))}),(function(e){M.NotificationManager.error(e)}))}},{key:"onUpdateTrigger",value:function(){z.a.editTriggers({id:this.state.id,instance_id:this.instance_id,type:this.state.selectedType,usergroup:JSON.stringify(this.state.selectedUsers),template:this.state.Template}).then((function(e){M.NotificationManager.success("Sie haben den Triggerfluss erfolgreich aktualisiert")}),(function(e){M.NotificationManager.error(e)}))}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.state.selectedRow);return u.a.createElement("div",{className:"tables-wrapper search-table-wrap"},u.a.createElement(N.f,{title:u.a.createElement(T.a,{id:"sidebar.emailTrigers"}),center:!0}),u.a.createElement(m.a,{maxWidth:"lg",className:"triggerContainer"},u.a.createElement(g.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(p.a,{container:!0,spacing:0,className:"res-custom-table"},u.a.createElement(p.a,{item:!0,xs:12,sm:12,md:5},u.a.createElement(N.c,{title:"Verf\xfcgbare Abl\xe4ufe",showDivider:!0},u.a.createElement("ul",{className:"top-hits triggers",mt:10},_.map((function(t,a){return u.a.createElement("li",{key:a,onClick:function(){return e.handleRowClick(t.type)},id:t.type},u.a.createElement("div",{className:"top-product"},u.a.createElement("div",{className:"top-product-detail"},"order"==t.icon&&u.a.createElement("div",{className:"top-product-thumb"},u.a.createElement(y.a,null)),"birthday"==t.icon&&u.a.createElement("div",{className:"top-product-thumb"},u.a.createElement(E.a,null)),"comment"==t.icon&&u.a.createElement("div",{className:"top-product-thumb"},u.a.createElement(C.a,null)),"patient"==t.icon&&u.a.createElement("div",{className:"top-product-thumb"},u.a.createElement(j.a,null)),u.a.createElement(g.a,null,u.a.createElement(h.a,{className:"top-product-title"},t.title),u.a.createElement(g.a,{display:"flex"},u.a.createElement(g.a,{display:"flex",alignItems:"center",className:"top-product-meta",mr:1},u.a.createElement(h.a,null,t.description)))))))}))))),u.a.createElement(p.a,{item:!0,xs:12,sm:12,md:5},t?u.a.createElement("div",{className:"previewPanel"},u.a.createElement(N.c,{mb:20,textAlign:"center"},u.a.createElement(g.a,{className:"triggerTitle"},this.state.selectedType)),u.a.createElement(N.c,{mb:20,textAlign:"center"},u.a.createElement(g.a,{className:"flowItem"},u.a.createElement("h5",null,"Benutzergruppe:"),u.a.createElement(g.a,null,u.a.createElement(w.b,{placeholder:"Benutzergruppe ausw\xe4hlen",data:k,value:this.state.selectedUsers,onChange:this.onChangeUsers})))),u.a.createElement(N.c,{mb:20},u.a.createElement(g.a,{className:"flowItem"},u.a.createElement("h5",null,"E-Mail Vorlage ausw\xe4hlen:"),u.a.createElement(g.a,null,u.a.createElement(w.a,{data:this.state.TemplateList,value:this.state.Template,placeholder:"E-Mail Vorlage ausw\xe4hlen",onChange:this.onChangeTemplate})))),this.state.isEditSelectedTrigger?u.a.createElement(g.a,{textAlign:"center"},u.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.onUpdateTrigger.bind(this)},"Update E-Mail Trigger")):u.a.createElement(g.a,{textAlign:"center"},u.a.createElement(f.a,{variant:"contained",color:"primary",onClick:this.onSubmitTrigger.bind(this)},"Create E-Mail Trigger"))):null)))))}}]),a}(o.Component);t.default=Object(d.a)((function(e){return{root:{"& .MuiTableCell-paddingNone":{padding:"0 16px"},"& .MuiTableCell-body":{lineHeight:1},"& .MuiToolbar-root":{paddingRight:20,"& >div:first-child":{fontSize:"1.25rem",fontFamily:"'Roboto', sans-serif",fontWeight:500}}},content:{},menuButton:{}}}))(H)}}]);
//# sourceMappingURL=22.46680e97.chunk.js.map