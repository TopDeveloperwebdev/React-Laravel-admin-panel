(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[70],{2555:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a(194),l=a(15),s=a(16),i=a(429),m=a(18),c=a(17),o=a(0),u=a.n(o),d=a(19),h=a(30),p=a(61),E=a(1540),g=a(1546),f=a(228),b=a(117),N=a(1560),y=a(1514),v=a(1518),S=a(1520),z=a(1516),k=a(1515),x=a(406),w=a(11),C=a(238),I=a(463),_=a.n(I),L=function(e){Object(m.a)(o,e);var t=Object(c.a)(o);function o(e){var a;return Object(l.a)(this,o),(a=t.call(this,e)).handleChangeComment=function(e){a.setState({comment:e.target.value})},a.state={title:"Medikamentenbestellung",instance:{},patient:{},doctor:{},pharmacy:{},orderMedications:[],user:{},order:{},lastOrder:{},lastUser:{},comment:"",orderId:"",commentList:[]},a.submitComment=a.submitComment.bind(Object(i.a)(a)),a}return Object(s.a)(o,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;this.defaultUrl="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSTbZrzTIuXAe01k5wgrhWGzPRPRliQygmBCA&usqp=CAU",this.setState({orderId:t}),C.a.getOrderDetail({orderId:t}).then((function(t){var a=localStorage.getItem("user");e.user_id=null,a&&(a=JSON.parse(a),e.user_id=a.id),t;var n="Medikamentenbestellung "+t.order.orderId;e.setState({title:n}),console.log("res.order.orderId",t),t.instance.length&&e.setState({instance:t.instance[0]}),t.patient.length&&e.setState({patient:t.patient[0]}),t.doctor.length&&e.setState({doctor:t.doctor[0]}),t.pharmacy.length&&e.setState({pharmacy:t.pharmacy[0]}),t.orderMedications.length&&e.setState({orderMedications:t.orderMedications}),t.commentList.length&&e.setState({commentList:t.commentList}),t.user.length&&e.setState({user:t.user[0]}),t.lastUser.length&&e.setState({lastUser:t.lastUser[0]});var r=t.order;if(r.created_at){var l=e.formate_date(r.created_at);r.date=l.date,r.time=l.time}console.log("this.comment",e.user_id==e.state.user.id);var s=t.lastOrder;if(s.created_at){var i=e.formate_date(s.created_at);s.date=i.date,s.time=i.time}e.setState({order:r,lastOrder:s})}))}},{key:"formate_date",value:function(e){var t=e.split(" "),a=t[0].split("-"),n=t[1].split(":");return{date:a="am "+a[2]+"."+a[1]+"."+a[0],time:n="um "+n[0]+":"+n[1]}}},{key:"submitComment",value:function(){var e=this;console.log("{ orderId: this.state.orderId  , user_id : this.user_id , comment : this.state.comment}",this.state.orderId,this.user_id,this.state.comment),C.a.submitComment({orderId:this.state.orderId,user_id:this.user_id,comment:this.state.comment}).then((function(t){console.log("res",t);var a=Object(r.a)(e.state.commentList);a.push(t),e.setState({commentList:a})}))}},{key:"render",value:function(){var e=u.a.createRef();return u.a.createElement("div",{className:"order-detail vh-100"},u.a.createElement(p.a,{className:"white-btn-color"},u.a.createElement(w.f,{title:u.a.createElement(h.a,{id:this.state.title}),buttonText:u.a.createElement(h.a,{id:"component.backToMedications"}),buttonLink:"/app/manage-orders"}),u.a.createElement("div",{className:"page-space"},u.a.createElement(E.a,null,u.a.createElement(p.a,{px:{xs:"12px",lg:0}},u.a.createElement(w.c,null,u.a.createElement(g.a,{item:!0,xs:12,className:"text-right"},u.a.createElement(_.a,{trigger:function(){return u.a.createElement(f.a,{variant:"outlined",className:"primary-bg-btn",color:"primary"},"Print")},content:function(){return e.current}})),u.a.createElement("div",{className:"main-invoice",ref:e},u.a.createElement(g.a,{container:!0,spacing:3,direction:"row"},u.a.createElement(g.a,{item:!0,xs:12,sm:9,md:9,lg:10,className:"gridItem "},u.a.createElement(p.a,{mb:1},u.a.createElement(p.a,{mb:"1",className:"site-logo user-logo"},u.a.createElement(d.b,{to:"/",className:"logo-mini mb-1 d-block"},u.a.createElement("img",{src:this.state.instance.instanceLogo?this.state.instance.instanceLogo:this.defaultUrl,alt:"site logo ",width:"35"})))),u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Rezeptanfrage f\xfcr"),u.a.createElement("div",{className:"rowContainer"},u.a.createElement(p.a,null,u.a.createElement(b.a,null,"Peter Meier :  ",this.state.patient.firstName," ",this.state.patient.lastName),u.a.createElement(b.a,null,"Hansastr :  - 29528")),u.a.createElement(p.a,null,u.a.createElement(b.a,null,"Versicherung :  ",this.state.patient.insurance),u.a.createElement(b.a,null,"Versicherte Nr :   ",this.state.patient.insuranceNr)),u.a.createElement(p.a,null,u.a.createElement(b.a,{className:"text-over"},"Telefon 1: ",this.state.patient.phone1),u.a.createElement(b.a,{className:"text-over"},"Telefon2 :  ",this.state.patient.phone2))),u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Liebe Kollegen"),u.a.createElement(p.a,null,u.a.createElement(b.a,null,"unser gemeinsame patient ",u.a.createElement("span",{className:"name"},this.state.patient.firstName," ",this.state.patient.lastName," ")," ben\xf6tigt folgende Medikamente/Hilfsmittel f\xfcr die Durchfuhrung der Behandlungspflege")),u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Eine Notiz des bestellenden Benutzers"),u.a.createElement(p.a,null,u.a.createElement(b.a,null,this.state.order.note)),u.a.createElement(p.a,{mb:4},u.a.createElement(N.a,null,u.a.createElement(y.a,{"aria-label":"customized table"},u.a.createElement(v.a,null,u.a.createElement(S.a,null,u.a.createElement(z.a,null,"Medikament"),u.a.createElement(z.a,{align:"right"},"Inhaltsstoffe"),u.a.createElement(z.a,{align:"right"},"Packungsgr\xf6\xdfe"))),u.a.createElement(k.a,null,this.state.orderMedications.map((function(e,t){return u.a.createElement(S.a,{key:t},u.a.createElement(z.a,{component:"th",scope:"row"},e.medicationName),u.a.createElement(z.a,{align:"right"},e.ingredients),u.a.createElement(z.a,{align:"right"},e.packaging))})))))),u.a.createElement(p.a,{my:2},u.a.createElement(b.a,null," Wir M\xf6chten sie bitten f\xfcr die folgende Bestellung Rezepte auszustellen und diese per post au schicken an : ",u.a.createElement("span",{className:"name"}," Apotheke . ",this.state.pharmacy.pharmacyName," Tonstr . ",this.state.pharmacy.streetNr),".Senden Sie die Rezopte bitee zorabe per Fax an , sodass eine luckenlose Versorgung der patienten gewahrleistet werden kann. ",u.a.createElement("span",{className:"name"},this.state.pharmacy.phone))),u.a.createElement(p.a,{my:5,className:"footerContainer"},u.a.createElement(b.a,null,"Bei Ruckfragen stehen Wir Ihnen gerne zur Verfugung."),u.a.createElement(b.a,null,"Mit freundlichen GruBen."),u.a.createElement(b.a,null,this.state.instance.instaneName))),u.a.createElement(g.a,Object(n.a)({item:!0,xs:12,sm:3,md:3,lg:2,className:"text-left"},"className","gridItem"),u.a.createElement(p.a,null,u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Rezeptausstellung von"),u.a.createElement(b.a,null,this.state.doctor.practiceName),u.a.createElement(b.a,null,this.state.doctor.streetNr),u.a.createElement(b.a,null,"Tel . ",this.state.doctor.phone),u.a.createElement(b.a,null,"Fax . ",this.state.doctor.fax)),u.a.createElement(p.a,null,u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Lieferung durch"),u.a.createElement(b.a,null,"Apotheke . ",this.state.pharmacy.pharmacyName),u.a.createElement(b.a,null,"Tonstr . ",this.state.pharmacy.streetNr),u.a.createElement(b.a,null,"Tel . ",this.state.pharmacy.phone),u.a.createElement(b.a,null,"Fax . ",this.state.pharmacy.fax)),u.a.createElement(p.a,null,u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Bestellung von"),u.a.createElement("div",{className:"rowContainer",pt:5},u.a.createElement(p.a,{mb:"3",className:"site-logo user-logo"},u.a.createElement("img",{src:this.state.user.userAvatar?this.state.user.userAvatar:a(727),alt:"search",width:"45",height:"45"})),u.a.createElement(p.a,{className:"font-2 warp-row"},this.state.user.name," ",u.a.createElement("span",null,this.state.order.date," ",this.state.order.time)))),u.a.createElement(p.a,null,u.a.createElement(p.a,{fontSize:"body2.fontSize",color:"text.primary",fontWeight:"500"},"Letzte Bestellung"),u.a.createElement("div",{className:"rowContainer",pt:5},u.a.createElement(p.a,{mb:"3",className:"site-logo user-logo"},u.a.createElement("img",{src:this.state.lastUser.userAvatar?this.state.lastUser.userAvatar:a(727),alt:"search",width:"45",height:"45"})),u.a.createElement(p.a,{className:"font-2 warp-row"},this.state.lastUser.name," ",u.a.createElement("span",null,this.state.lastOrder.date," ",this.state.lastOrder.time)))),u.a.createElement(p.a,null,u.a.createElement(p.a,null,u.a.createElement(x.a,{className:"full-width textArea",id:"outlined-multiline-static",label:"Add Note",multiline:!0,rows:4,defaultValue:"Default Value",variant:"outlined",value:this.state.comment,onChange:this.handleChangeComment}),u.a.createElement(p.a,{className:"buttonContainer"},u.a.createElement(f.a,{variant:"outlined",className:"primary-bg-btn",color:"primary",autoFocus:!0,onClick:this.submitComment},u.a.createElement(p.a,{component:"span",fontSize:"18px",mr:1,className:"material-icons"},"send"),"Send"))),u.a.createElement(p.a,{className:"commentContainer"},this.state.commentList&&this.state.commentList.map((function(e){return u.a.createElement(p.a,{className:"comment"},u.a.createElement(p.a,{className:"font-2 warp-row"},e.created_at),u.a.createElement(b.a,null,e.comment))}))," ",u.a.createElement(p.a,null))))))))))))}}]),o}(o.Component);t.default=L}}]);
//# sourceMappingURL=70.f4bf4228.chunk.js.map