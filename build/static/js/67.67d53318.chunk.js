(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[67],{2378:function(t,e,a){"use strict";a.r(e);var i=a(194),n=a(7),o=a(15),c=a(16),r=a(18),s=a(17),l=a(0),d=a.n(l),f=a(1586),u=a.n(f),m=a(1568),p=a(1550),h=a(61),g=a(237),b=a(11),y=a(30),O=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(t){var i;return Object(o.a)(this,a),(i=e.call(this,t)).state={columns:[{title:"Pharmacy logo",field:"pharmacyLogo",render:function(t){return d.a.createElement("img",{src:t.pharmacyLogo?t.pharmacyLogo:i.defaultUrl,className:"logo-td bdr-rad-50"})},editComponent:function(t){return d.a.createElement("input",{type:"file",onChange:function(e){return t.onChange(e.target.files[0])}})}},{title:"Pharmacy name",field:"pharmacyName"},{title:"Street Nr",field:"streetNr"},{title:"zip code",field:"zipCode"},{title:"City",field:"city"},{title:"Phone",field:"phone",type:"string",required:!0},{title:"Fax",field:"fax"},{title:"Email",field:"email"},{title:"Password",field:"password",type:"string"},{title:"Notifications",field:"notifications",render:function(t){return d.a.createElement(m.a,{size:"small",color:"primary",checked:!!t.notifications})},editComponent:function(t){return console.log("rowData",t),i.state.isEditNotifications&&t.rowData.id&&i.setState({notifications:!!t.rowData.notifications,isEditNotifications:!1}),d.a.createElement(m.a,{size:"small",color:"primary",checked:i.state.notifications,onChange:function(t){return i.setState({notifications:t.target.checked})}})}}],selectedData:{logo:""},data:[],notifications:!0,isEditNotifications:!1},i}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var t=this;this.defaultUrl="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSTbZrzTIuXAe01k5wgrhWGzPRPRliQygmBCA&usqp=CAU";var e=JSON.parse(localStorage.getItem("user"));this.instance_id=e.instance_id,g.a.showPharmacies({instance_id:this.instance_id,pagination:1}).then((function(e){console.log("res",e),t.setState((function(t){var a=e;return Object(n.a)(Object(n.a)({},t),{},{data:a})}))}))}},{key:"render",value:function(){var t=this;return d.a.createElement("div",{className:"tables-wrapper search-table-wrap"},d.a.createElement(b.f,{title:d.a.createElement(y.a,{id:"sidebar.pharmacies"}),center:!0}),d.a.createElement(p.a,{maxWidth:"lg"},d.a.createElement(h.a,{px:{xs:"12px",lg:0},className:"page-space"},d.a.createElement(u.a,{title:d.a.createElement(y.a,{id:"sidebar.pharmacies"}),columns:this.state.columns,data:this.state.data,localization:{header:{actions:"Funktionen"}},editable:{onRowAdd:function(e){return new Promise((function(a){setTimeout((function(){a(),e.instance_id=t.instance_id,e.notifications=t.state.notifications;var o=new FormData;o.append("file",e.pharmacyLogo),e.pharmacyLogo="",o.append("data",JSON.stringify(e)),g.a.addPharmacies(o).then((function(e){console.log("res",e),t.setState((function(t){var a=Object(i.a)(t.data);return a.push(e),Object(n.a)(Object(n.a)({},t),{},{data:a})}))})),t.setState({notifications:!0,isEditNotifications:!0})}),600)}))},onRowUpdate:function(e,a){return new Promise((function(o){setTimeout((function(){o();var c=new FormData;"object"==typeof e.pharmacyLogo&&(c.append("file",e.pharmacyLogo),e.pharmacyLogo=""),e.notifications=t.state.notifications,c.append("data",JSON.stringify(e)),g.a.editPharmacies(c).then((function(e){a&&t.setState((function(t){var o=Object(i.a)(t.data);return o[o.indexOf(a)]=e,Object(n.a)(Object(n.a)({},t),{},{data:o})}))})),t.setState({notifications:!0,isEditNotifications:!0})}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),console.log(";oldData",e.id),g.a.deletePharmacies({id:e.id}).then((function(a){console.log("res",a),t.setState((function(t){var a=Object(i.a)(t.data);return a.splice(a.indexOf(e),1),Object(n.a)(Object(n.a)({},t),{},{data:a})}))}))}),600)}))}}}))))}}]),a}(l.Component);e.default=O}}]);
//# sourceMappingURL=67.67d53318.chunk.js.map