(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[33],{2193:function(e,t,a){"use strict";var r=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a(0)),i=(0,r(a(417)).default)(s.default.createElement("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCartOutlined");t.default=i},2194:function(e,t,a){"use strict";var r=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(a(0)),i=(0,r(a(417)).default)(s.default.createElement("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zM5 7V5h14v2H5zm5.56 10.46l5.93-5.93-1.06-1.06-4.87 4.87-2.11-2.11-1.06 1.06z"}),"EventAvailableOutlined");t.default=i},2371:function(e,t,a){"use strict";a.r(t);var r=a(194),s=a(7),i=a(15),l=a(16),n=a(18),c=a(17),o=a(0),d=a.n(o),m=a(414),p=a(1546),u=a(61),h=a(1552),g=a(115),E=a(228),f=a(2194),y=a.n(f),v=a(2193),T=a.n(v),b=a(30),N=a(11),O=a(1632),w=a(237),C=a(38),k=["Family doctors","Pharmacies","Patients","Related Users"],S=["Every year on birthdays","User create an Order"],M=function(e){Object(n.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={selectedRow:{firstName:"Zachery",lastName:"Terrell",designation:"Web Developer",city:"Chakwal",postal:"352950",address:"Ap #262-5976 Elementum Rd.",country:"Virgin Islands",imageUrl:"user-1.jpg",contactNo:"9876543210",lastModified:"17/3/2019",tableData:{id:0}},selectedRowForStyle:null,selectedUsers:[],selectedType:"Every year on birthdays",TemplateAllList:[],TemplateList:[],isEditBirthday:!1,isEditOrder:!1,triggers:[],Template:"",id:""},e.handleRowClick=function(t){var a=[];e.state.TemplateAllList.forEach((function(e){e.type==t&&a.push(e.title)}));var r,i,l=!1,n=!1,c=[],o=e.state.triggers.filter((function(e){return e.type==t}));o.length&&(o[0].type==S[0]?l=!0:o[0].type==S[1]&&(n=!0),c=JSON.parse(o[0].usergroup),r=o[0].template,i=o[0].id),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{TemplateList:a,selectedType:t,selectedUsers:c,Template:r,isEditBirthday:l,isEditOrder:n,id:i})}))},e.onChangeUsers=function(t){console.log("adfa",t),e.setState({selectedUsers:Object(r.a)(t.target.value)})},e.onChangeTemplate=function(t){e.setState({Template:t.target.value})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));this.instance_id=t.instance_id,console.log("res",this.instance_id),w.a.showTriggers({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({TemplateAllList:Object(r.a)(t.templates),triggers:Object(r.a)(t.triggers)}),e.handleRowClick("User create an Order")}))}},{key:"onSubmitTrigger",value:function(){w.a.addTriggers({instance_id:this.instance_id,type:this.state.selectedType,usergroup:JSON.stringify(this.state.selectedUsers),template:this.state.Template}).then((function(e){C.NotificationManager.success("Sie haben den Triggerfluss erfolgreich gespeichert'")}),(function(e){C.NotificationManager.error(e)}))}},{key:"onUpdateTrigger",value:function(){w.a.editTriggers({id:this.state.id,instance_id:this.instance_id,type:this.state.selectedType,usergroup:JSON.stringify(this.state.selectedUsers),template:this.state.Template}).then((function(e){C.NotificationManager.success("Sie haben den Triggerfluss erfolgreich aktualisiert")}),(function(e){C.NotificationManager.error(e)}))}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.state.selectedRow);return console.log("(this.state.selectedType == types[0] && this.state.isEditBirthday) || (this.state.selectedType == types[1] && this.state.isEditOrder)",this.state.selectedType==S[0],this.state.isEditBirthday,this.state.selectedType==S[1]&&this.state.isEditOrder),d.a.createElement("div",{className:"tables-wrapper search-table-wrap"},d.a.createElement(N.f,{title:d.a.createElement(b.a,{id:"sidebar.emailTrigers"}),center:!0}),d.a.createElement(p.a,{maxWidth:"lg",className:"triggerContainer"},d.a.createElement(u.a,{px:{xs:"12px",lg:0},className:"page-space"},d.a.createElement(h.a,{container:!0,spacing:0,className:"res-custom-table"},d.a.createElement(h.a,{item:!0,xs:12,sm:12,md:5},d.a.createElement(N.c,{title:"Avaiable Triggers",showDivider:!0},d.a.createElement("ul",{className:"top-hits",mt:10},d.a.createElement("li",{onClick:function(){return e.handleRowClick("User create an Order")}},d.a.createElement("div",{className:"top-product"},d.a.createElement("div",{className:"top-product-detail"},d.a.createElement("div",{className:"top-product-thumb"},d.a.createElement(T.a,null)),d.a.createElement(u.a,null,d.a.createElement(g.a,{className:"top-product-title"},"When user create an Order"),d.a.createElement(u.a,{display:"flex"},d.a.createElement(u.a,{display:"flex",alignItems:"center",className:"top-product-meta",mr:1},d.a.createElement(g.a,null,"Workflow triggered when user created a order"))))))),d.a.createElement("li",{onClick:function(){return e.handleRowClick("Every year on birthdays")}},d.a.createElement("div",{className:"top-product"},d.a.createElement("div",{className:"top-product-detail"},d.a.createElement("div",{className:"top-product-thumb"},d.a.createElement(y.a,null)),d.a.createElement(u.a,null,d.a.createElement(g.a,{className:"top-product-title"},"The anniversary of a date"),d.a.createElement(u.a,{display:"flex"},d.a.createElement(u.a,{display:"flex",alignItems:"center",className:"top-product-meta",mr:1},d.a.createElement(g.a,null,"Workflow triggered every year on specific dates (greate for birthdays, wedding anniversary, etc)")))))))))),d.a.createElement(h.a,{item:!0,xs:12,sm:12,md:5},t?d.a.createElement("div",{className:"previewPanel"},d.a.createElement(N.c,{mb:20,textAlign:"center"},d.a.createElement(u.a,{className:"triggerTitle"},this.state.selectedType)),d.a.createElement(N.c,{mb:20,textAlign:"center"},d.a.createElement(u.a,{className:"flowItem"},d.a.createElement("h5",null,"UserGroup :"),d.a.createElement(u.a,null,d.a.createElement(O.b,{placeholder:"Select User Group",data:k,value:this.state.selectedUsers,onChange:this.onChangeUsers})))),d.a.createElement(N.c,{mb:20},d.a.createElement(u.a,{className:"flowItem"},d.a.createElement("h5",null,"Select E-Mail Template :"),d.a.createElement(u.a,null,d.a.createElement(O.a,{data:this.state.TemplateList,value:this.state.Template,placeholder:"Select Template",onChange:this.onChangeTemplate})))),this.state.selectedType==S[0]&&this.state.isEditBirthday||this.state.selectedType==S[1]&&this.state.isEditOrder?d.a.createElement(u.a,{textAlign:"center"},d.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.onUpdateTrigger.bind(this)},"Update E-Mail Trigger")):d.a.createElement(u.a,{textAlign:"center"},d.a.createElement(E.a,{variant:"contained",color:"primary",onClick:this.onSubmitTrigger.bind(this)},"Create E-Mail Trigger"))):null)))))}}]),a}(o.Component);t.default=Object(m.a)((function(e){return{root:{"& .MuiTableCell-paddingNone":{padding:"0 16px"},"& .MuiTableCell-body":{lineHeight:1},"& .MuiToolbar-root":{paddingRight:20,"& >div:first-child":{fontSize:"1.25rem",fontFamily:"'Roboto', sans-serif",fontWeight:500}}},content:{},menuButton:{}}}))(M)}}]);
//# sourceMappingURL=33.8588a25e.chunk.js.map