(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[62],{2028:function(t,e,a){"use strict";a.r(e);var n=a(195),s=a(7),i=a(15),o=a(16),r=a(18),c=a(17),l=a(0),u=a.n(l),d=a(1572),m=a.n(d),f=a(1555),p=a(1537),h=a(61),b=a(237),w=a(14),E=a(30),O={},g={},j=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={columns:[{title:"ID",field:"id",editComponent:function(t){return u.a.createElement("div",null,t.id)}},{title:"Instance",field:"instance_id",lookup:g},{title:"User Name",field:"name"},{title:"Email",field:"email"},{title:"Password",field:"password"},{title:"Role",field:"role",lookup:O},{title:"Status",field:"status",render:function(t){return u.a.createElement(f.a,{size:"small",color:"primary",checked:!!t.status})},editComponent:function(t){return console.log("rowData",t),n.state.isEdit&&t.rowData.id&&n.setState({status:!!t.rowData.status,isEdit:!1}),u.a.createElement(f.a,{size:"small",color:"primary",checked:n.state.status,onChange:function(t){return n.setState({status:t.target.checked})}})}}],data:[],status:!0,isEdit:!0,instance_id:0},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem("user"));if(this.instance_id=e.instance_id,this.instance_id){var a=[{title:"ID",field:"id",editComponent:function(t){return u.a.createElement("div",null,t.id)}},{title:"User Name",field:"name"},{title:"Email",field:"email"},{title:"Password",field:"password"},{title:"Role",field:"role",lookup:O},{title:"Status",field:"status",render:function(t){return u.a.createElement(f.a,{size:"small",color:"primary",checked:!!t.status})},editComponent:function(e){return console.log("rowData",e),t.state.isEdit&&e.rowData.id&&t.setState({status:!!e.rowData.status,isEdit:!1}),u.a.createElement(f.a,{size:"small",color:"primary",checked:t.state.status,onChange:function(e){return t.setState({status:e.target.checked})}})}}];this.setState({columns:[].concat(a)})}b.a.showUsers({instance_id:this.instance_id,pagination:1}).then((function(e){e.roles.map((function(t){O[t.role]=t.role})),e.instances.map((function(t){g[t.id]=t.instanceName})),t.setState((function(t){var a=e.users;return Object(s.a)(Object(s.a)({},t),{},{data:a})}))}))}},{key:"render",value:function(){var t=this;return u.a.createElement("div",{className:"tables-wrapper search-table-wrap"},u.a.createElement(w.f,{title:u.a.createElement(E.a,{id:"sidebar.users"}),center:!0}),u.a.createElement(p.a,{maxWidth:"lg"},u.a.createElement(h.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(m.a,{title:u.a.createElement(E.a,{id:"sidebar.users"}),columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(e){return new Promise((function(a){setTimeout((function(){a(),console.log("newData",e),e.status=t.state.status?1:0,t.instance_id&&(e.instance_id=t.instance_id),b.a.addUsers(e).then((function(e){console.log("res",e),t.setState((function(t){var a=Object(n.a)(t.data),i=[];i.push(e),i=[].concat(Object(n.a)(i),Object(n.a)(a)).slice(0);return Object(s.a)(Object(s.a)({},t),{},{data:i,status:!0})}))}))}),600)}))},onRowUpdate:function(e,a){return new Promise((function(i){setTimeout((function(){i(),console.log("newdata",e.id),e.status=t.state.status?1:0,b.a.editUsers(e).then((function(i){a&&t.setState((function(t){var i=Object(n.a)(t.data);i[i.indexOf(a)]=e;return Object(s.a)(Object(s.a)({},t),{},{data:i,status:!0,isEdit:!0})}))}))}),600)}))},onRowDelete:function(e){return new Promise((function(a){setTimeout((function(){a(),console.log(";oldData",e.id),b.a.deleteUsers({id:e.id}).then((function(a){console.log("res",a),t.setState((function(t){var a=Object(n.a)(t.data);return a.splice(a.indexOf(e),1),Object(s.a)(Object(s.a)({},t),{},{data:a})}))}))}),600)}))}}}))))}}]),a}(l.Component);e.default=j}}]);
//# sourceMappingURL=62.c7ced768.chunk.js.map