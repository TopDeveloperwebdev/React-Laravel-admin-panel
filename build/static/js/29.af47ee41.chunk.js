(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[29],{1829:function(e,t,a){"use strict";var n=a(15),i=a(16),s=a(18),l=a(17),o=a(0),c=a.n(o),r=a(1498),u=a(1501),d=a(61),m=a(1637),f=a.n(m),h=(a(11),a(30),function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={open:!1,instance:null,title:"",content:"",name:"",street:"",zip:"",city:"",insurance:"",insuranceNr:"",birthday:"",phone:""},i.pdfExportComponent=c.a.createRef(),i}return Object(i.a)(a,[{key:"openDialog",value:function(){var e=this;this.setState({open:!0},(function(){var t=e.state,a=t.name,n=t.street,i=t.zip,s=t.city,l=t.insurance,o=t.insuranceNr,c=t.birthday,r=t.phone;setTimeout((function(){for(var t=document.getElementsByClassName("name"),u=0;u<t.length;u++)document.getElementsByClassName("name")[u].innerText=a;for(var d=document.getElementsByClassName("street"),m=0;m<d.length;m++)document.getElementsByClassName("street")[m].innerText=n;for(var f=document.getElementsByClassName("zip"),h=0;h<f.length;h++)document.getElementsByClassName("zip")[h].innerText=i;for(var p=document.getElementsByClassName("city"),v=0;v<p.length;v++)document.getElementsByClassName("city")[v].innerText=s;for(var g=document.getElementsByClassName("insurance"),E=0;E<g.length;E++)document.getElementsByClassName("insurance")[E].innerText=l;for(var y=document.getElementsByClassName("insuranceNr"),D=0;D<y.length;D++)document.getElementsByClassName("insuranceNr")[D].innerText=o;for(var b=document.getElementsByClassName("birthday"),S=0;S<b.length;S++)document.getElementsByClassName("birthday")[S].innerText=e.formate_date(c);for(var C=document.getElementsByClassName("phone"),N=0;N<C.length;N++)document.getElementsByClassName("phone")[N].innerText=r}),10)}))}},{key:"formate_date",value:function(e){var t="";e&&(t=(t=e.split(" ")[0].split("-"))[2]+"."+t[1]+"."+t[0]);return t}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"getUrl",value:function(e){return"/backend_latest/file_storage/"+e.split("/")[5]}},{key:"render",value:function(){var e=this;return c.a.createElement(r.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},c.a.createElement(u.a,{className:"p-10 downloadPaper"},c.a.createElement(d.a,null,c.a.createElement(f.a,{className:"closeBtn",onClick:function(){return e.onCloseDialog(!1)}})),c.a.createElement("div",{id:"downloadArea"},this.props.selectedDocumentList.map((function(e,t){return c.a.createElement(d.a,{key:t,className:"pageContainer",id:"page-".concat(t)},c.a.createElement("div",{className:"p-10"},c.a.createElement("div",{variant:"h5",className:"title",textAlign:"left"},e.title)),c.a.createElement("div",{className:"p-10 contentHtml"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}})))})),c.a.createElement("style",null,'\n    /* Use the DejaVu Sans font for displaying and embedding in the PDF file. The standard PDF fonts do not support Unicode characters. */\n     h4{\n        font-family: "DejaVu Sans", "Arial", sans-serif;\n        }\n        p,div {\n            font-family: "DejaVu Sans", "Arial", sans-serif;\n    \n        }\n\n    /* The examples load the DejaVu Sans from the KendoReact CDN. Other fonts have to be hosted from your application.\n    The official site of the Deja Vu Fonts project is https://dejavu-fonts.github.io/. */\n    @font-face {\n        font-family: "DejaVu Sans";\n        src: url("https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans.ttf") format("truetype");\n    }\n\n    @font-face {\n        font-family: "DejaVu Sans";\n        font-weight: bold;\n        src: url("https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans-Bold.ttf") format("truetype");\n    }\n\n    @font-face {\n        font-family: "DejaVu Sans";\n        font-style: italic;\n        src: url("https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf") format("truetype");\n    }\n\n    @font-face {\n        font-family: "DejaVu Sans";\n        font-weight: bold;\n        font-style: italic;\n        src: url("https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf") format("truetype");\n    }\n'))))}}]),a}(c.a.Component));t.a=h},2130:function(e,t){},2131:function(e,t){},2553:function(e,t,a){"use strict";a.r(t);var n=a(7),i=a(194),s=a(15),l=a(16),o=a(421),c=a(18),r=a(17),u=a(0),d=a.n(u),m=a(1553),f=a(61),h=a(1649),p=a.n(h),v=a(1650),g=a.n(v),E=a(11),y=a(30),D=a(237),b=a(1498),S=a(1502),C=a(1501),N=a(409),k=a(408),j=a(768),O=a(794),x=a(527),L=a(1526),_=a(793),V=a(1525),w=a(1500),B=a(228),T=(a(1645),a(20)),z=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={open:!1,data:{},selectedService:"",selectedDocuments:[],title:"",servicesList:[],documentsList:[],instance_id:0,isEdit:!1},n.onchangeDocument=function(e){n.setState({selectedDocuments:Object(i.a)(e.target.value)})},n.onChangeServices=function(e){n.setState({selectedService:e.target.value})},n.onChangeTitle=function(e){n.setState({title:e.target.value})},n}return Object(l.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1,title:"",selectedDocuments:[],selectedService:"",isEdit:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1,title:"",selectedDocuments:[],selectedService:""})}},{key:"onSubmit",value:function(){this.state.title&&this.state.selectedDocuments.length&&this.state.selectedService?(this.setState({open:!1}),this.props.onConfirm({title:this.state.title,documents:JSON.stringify(this.state.selectedDocuments),service:this.state.selectedService,instance_id:this.state.instance_id})):alert("Bitte geben Sie die erforderlichen Felder ein")}},{key:"onUpdate",value:function(){this.state.title&&this.state.selectedDocuments.length&&this.state.selectedService?(this.setState({open:!1}),this.props.onUpdate({id:this.state.id,title:this.state.title,documents:JSON.stringify(this.state.selectedDocuments),service:this.state.selectedService,instance_id:this.state.instance_id})):alert("Bitte geben Sie die erforderlichen Felder ein")}},{key:"renderValue",value:function(e){var t=this,a=[];return e.forEach((function(e){var n=t.state.documentsList.find((function(t){return t.id==e}));n&&a.push(n.title)})),a.join(", ")}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a,{className:"contact-dialog carefolderContainer",open:this.state.open,onClose:this.closeDialog,"aria-labelledby":"form-dialog-title"},d.a.createElement(S.a,{id:"form-dialog-title"},"Edit Contact"),d.a.createElement(C.a,null,d.a.createElement("div",null,d.a.createElement("form",{autoComplete:"off"},d.a.createElement("div",{style:{marginBottom:"20px"}},d.a.createElement(f.a,{className:"p-10"},d.a.createElement(N.a,{className:"full-width",type:"text",label:"Please input Care folder title",InputLabelProps:{shrink:!0},value:this.state.title,onChange:this.onChangeTitle.bind(this),defaultValue:"Title..."})),d.a.createElement(f.a,{className:"p-10"},this.state.servicesList.length?d.a.createElement(k.a,{className:"selection-wrap full-width"},d.a.createElement(j.a,{id:"page-size"},"Please Select a Service"),d.a.createElement(O.a,{labelId:"page-size",id:"page-size",value:this.state.selectedService,onChange:this.onChangeServices.bind(this),defaultValue:1},this.state.servicesList.map((function(e){return d.a.createElement("option",{key:e.services,value:e.services},e.services)})))):d.a.createElement("div",null,d.a.createElement(T.b,{to:"/app/services"},"Add New Services"))),d.a.createElement(f.a,{className:"p-10"},this.state.documentsList.length?d.a.createElement(k.a,{className:"full-width"},d.a.createElement(j.a,{id:"demo-mutiple-checkbox-label"},"Please select documents"),d.a.createElement(O.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:this.state.selectedDocuments,onChange:this.onchangeDocument.bind(this),input:d.a.createElement(x.a,null),renderValue:function(t){return e.renderValue(t)}},this.state.documentsList.map((function(t){return d.a.createElement(L.a,{key:t.id,value:t.id},d.a.createElement(_.a,{checked:e.state.selectedDocuments.indexOf(t.id)>-1}),d.a.createElement(V.a,{primary:t.title}))})))):d.a.createElement("div",null,d.a.createElement(T.b,{to:"/app/documents/*"},"Add New documents"))))))),d.a.createElement(w.a,{className:"px-20 pb-20 justify-content-center"},d.a.createElement(f.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},!this.state.isEdit&&d.a.createElement(f.a,{mx:2},d.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){return e.onSubmit(!0)}},"Submit")),this.state.isEdit&&d.a.createElement(f.a,{mx:2},d.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){return e.onUpdate(!0)}},"Update")),d.a.createElement(B.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(d.a.Component),A=a(115),F=a(1637),U=a.n(F),I=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={open:!1,instance:null,title:"",content:""},n}return Object(l.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1})}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},d.a.createElement(C.a,{className:"p-10"},d.a.createElement(f.a,null,d.a.createElement(U.a,{className:"closeBtn",onClick:function(){return e.onCloseDialog(!1)}})),d.a.createElement(f.a,{className:"title-content",textAlign:"center"},d.a.createElement(A.a,{variant:"h4"},this.props.document.instanceName),d.a.createElement(f.a,{pt:1,fontSize:"body2.fontSize"},d.a.createElement("img",{src:this.props.document.instanceLogo}))),d.a.createElement(f.a,{className:"p-10"},d.a.createElement(A.a,{variant:"h5",className:"title",textAlign:"left"},this.props.document.title)),d.a.createElement(f.a,{className:"p-10"},d.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.document.content}})),d.a.createElement(f.a,{className:"title-content",textAlign:"center"},d.a.createElement(f.a,{pt:1,fontSize:"body2.fontSize"},"instance Name : ",this.props.document.instanceName),d.a.createElement(f.a,{pt:1,fontSize:"body2.fontSize"},"Contact Email : ",this.props.document.email))))}}]),a}(d.a.Component),P=a(1829),J=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={open:!1},e}return Object(l.a)(a,[{key:"openDialog",value:function(){this.setState({open:!0})}},{key:"closeDialog",value:function(){this.setState({open:!1})}},{key:"onCloseDialog",value:function(e){this.setState({open:!1}),this.props.onConfirm(e)}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a,{open:this.state.open,onClose:this.closeDialog.bind(this),"aria-labelledby":"responsive-dialog-title",className:"confirmation-dialog"},d.a.createElement(C.a,null,d.a.createElement(f.a,{textAlign:"center",pt:2},d.a.createElement(A.a,{variant:"h5"},"Are you sure you want to delete this document permanently?"))),d.a.createElement(w.a,{className:"px-20 pb-20 justify-content-center"},d.a.createElement(f.a,{mb:2,width:"100%",display:"flex",justifyContent:"center",p:1,textAlign:"center"},d.a.createElement(f.a,{mx:2},d.a.createElement(B.a,{variant:"contained",color:"primary",onClick:function(){return e.onCloseDialog(!0)}},"Yes")),d.a.createElement(B.a,{variant:"contained",color:"secondary",onClick:function(){return e.onCloseDialog(!1)}},"No"))))}}]),a}(d.a.Component),R=a(1919),M=a.n(R),H=(a(2088),a(325),a(2091),a(1589)),q=a.n(H),W=(a(2092),function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onCloseDialog=function(e){n.setState({oldData:null})},n.getLength=function(e){var t=0;e&&(t=JSON.parse(e).length);return t},n.state={servicesList:[],folders:[],selectedDocument:{},oldData:{},documentsList:[],selectedDocumentList:[],columns:[{title:"Mappe",field:"action",render:function(e){return d.a.createElement("div",null,d.a.createElement(T.b,{className:"pointerIcon",to:"/app/documents/".concat(e.documents)},d.a.createElement(M.a,null)))}},{title:"Titel",field:"title"},{title:"Umfang",field:"size",render:function(e){return d.a.createElement("div",null,n.getLength(e.documents))}},{title:"Erstellt am",field:"created_at"},{title:"Funktionen",field:"actions",render:function(e){return d.a.createElement("div",null,d.a.createElement(p.a,{className:"pointerIcon",onClick:function(){return n.editDocument(e)}}),d.a.createElement(g.a,{className:"pointerIcon",onClick:function(){return n.ondeleteContact(e)}}))}}]},n.editorDialog=d.a.createRef(),n.viewDialog=d.a.createRef(),n.preViewDialog=d.a.createRef(),n.deleteDialog=d.a.createRef(),n.addFolder=n.addFolder.bind(Object(o.a)(n)),n}return Object(l.a)(a,[{key:"addFolder",value:function(){this.editorDialog.current.setState({servicesList:this.state.servicesList,documentsList:this.state.documentsList,instance_id:this.instance_id}),this.editorDialog.current.openDialog()}},{key:"editDocument",value:function(e){var t=[];e.documents&&(t=JSON.parse(e.documents)),this.editorDialog.current.setState({id:e.id,servicesList:this.state.servicesList,documentsList:this.state.documentsList,instance_id:e.instance_id,title:e.title,selectedDocuments:Object(i.a)(t),selectedService:e.service,isEdit:!0}),this.setState({oldData:e}),this.editorDialog.current.openDialog()}},{key:"onSubmit",value:function(e){var t=this;e&&D.a.addFolders(e).then((function(e){t.setState((function(t){var a=Object(i.a)(t.folders);return a.push(e),Object(n.a)(Object(n.a)({},t),{},{folders:a})})),t.editorDialog.current.setState({title:"",selectedDocuments:[],selectedService:""})}))}},{key:"onUpdate",value:function(e){var t=this;e&&D.a.editFolders(e).then((function(a){t.setState((function(a){var s=Object(i.a)(a.folders);e.created_at=t.state.oldData.created_at,s[s.indexOf(t.state.oldData)]=e;return Object(n.a)(Object(n.a)({},a),{},{folders:s,oldData:{}})})),t.editorDialog.current.setState({title:"",selectedDocuments:[],selectedService:""})}))}},{key:"ondeleteContact",value:function(e){console.log(";",e),this.setState({oldData:e}),this.deleteDialog.current.openDialog()}},{key:"deleteContactPermanent",value:function(e){var t=this;e&&D.a.deleteFolders({id:this.state.oldData.id}).then((function(e){e&&t.setState((function(e){var a=Object(i.a)(e.folders);return a.splice(a.indexOf(t.state.oldData),1),Object(n.a)(Object(n.a)({},e),{},{folders:a})}))}))}},{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));this.instance_id=t.instance_id,console.log("instance",this.instance_id),D.a.showFolders({instance_id:this.instance_id,pagination:1}).then((function(t){e.setState({folders:t.folders,servicesList:t.services,documentsList:t.documents})}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"tables-wrapper"},d.a.createElement(E.f,{title:d.a.createElement(y.a,{id:"sidebar.carefolders"}),center:!0}),d.a.createElement(m.a,{maxWidth:"lg"},d.a.createElement(f.a,{px:{xs:"12px",lg:0},className:"page-space"},d.a.createElement(q.a,{title:d.a.createElement(y.a,{id:"sidebar.carefolders"}),columns:this.state.columns,data:this.state.folders,actions:[{icon:"create_new_folder_outlinedIcon",tooltip:"create",position:"toolbar",onClick:function(){e.addFolder()}}]}))),d.a.createElement(z,{ref:this.editorDialog,onConfirm:function(t){return e.onSubmit(t)},onUpdate:function(t){return e.onUpdate(t)}}),d.a.createElement(I,{ref:this.viewDialog,document:this.state.selectedDocument}),d.a.createElement(P.a,{ref:this.preViewDialog,selectedDocumentList:this.state.selectedDocumentList}),d.a.createElement(J,{ref:this.deleteDialog,onConfirm:function(t){return e.deleteContactPermanent(t)}}))}}]),a}(u.Component));t.default=W}}]);
//# sourceMappingURL=29.af47ee41.chunk.js.map