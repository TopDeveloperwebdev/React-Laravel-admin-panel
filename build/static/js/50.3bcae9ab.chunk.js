(this.webpackJsonphulk=this.webpackJsonphulk||[]).push([[50],{2017:function(e,t,n){"use strict";n.r(t);var a=n(415),i=n(7),r=n(14),o=n(15),c=n(17),s=n(16),l=n(0),u=n.n(l),d=n(1580),m=n.n(d),f=n(402),p=n(784),h=n(1537),v=n(61),g=n(198),b=n(19),y=n(29),E=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={columns:[{title:"Picture",field:"picture",render:function(e){return u.a.createElement("img",{src:e.picture?e.picture:a.defaultUrl,className:"logo-td bdr-rad-50"})},editComponent:function(e){return u.a.createElement("input",{type:"file",onChange:function(t){return e.onChange(t.target.files[0])}})}},{title:"Salutation",field:"salutation"},{title:"First Name",field:"firstName"},{title:"Last Name",field:"lastName"},{title:"Street nr",field:"streetNr"},{title:"zip code",field:"zipCode"},{title:"City",field:"city"},{title:"Birthday",field:"birthday"},{title:"Phone 1",field:"phone1"},{title:"Phone 2",field:"phone2"},{title:"E-Mail",field:"email"},{title:"Resources",field:"resources",editComponent:function(e){return u.a.createElement(f.a,null,u.a.createElement(p.a,{native:!0,inputProps:{name:"resources1",id:"resources1-native-simple"},onChange:function(t){return e.onChange(t.target.value)}},a.resources.map((function(e){return u.a.createElement("option",{value:e.resources},e.resources)}))))}},{title:"Insurance",field:"insurance",editComponent:function(e){return u.a.createElement(f.a,null,u.a.createElement(p.a,{native:!0,inputProps:{name:"insurance1",id:"insurance1-native-simple"},onChange:function(t){return e.onChange(t.target.value)}},a.insurances.map((function(e){return u.a.createElement("option",{value:e.insurances},e.insurances)}))))}},{title:"Services",field:"services",editComponent:function(e){return u.a.createElement(f.a,null,u.a.createElement(p.a,{native:!0,inputProps:{name:"services",id:"services-native-simple"},onChange:function(t){return e.onChange(t.target.value)}},a.services.map((function(e){return u.a.createElement("option",{value:e.services},e.services)}))))}},{title:"Family Doctor",field:"familyDoctor",editComponent:function(e){return u.a.createElement(f.a,null,u.a.createElement(p.a,{native:!0,inputProps:{name:"familyDoctor",id:"familyDoctor-native-simple"},onChange:function(t){return e.onChange(t.target.value)}},a.family_doctors.map((function(e){return u.a.createElement("option",{value:e.family_doctors},e.family_doctors)}))))}},{title:"Key number",field:"keyNumber"},{title:"Floor",field:"floor"},{title:"Degree of care",field:"degreeCare"},{title:"Pharmacy",field:"pharmacy",editComponent:function(e){return u.a.createElement(f.a,null,u.a.createElement(p.a,{native:!0,inputProps:{name:"pharmacy1",id:"pharmacy-native-simple"},onChange:function(t){return e.onChange(t.target.value)}},a.pharmacies.map((function(e){return u.a.createElement("option",{value:e.pharmacies},e.pharmacies)}))))}},{title:"User group",field:"userGroup"},{title:"Status",field:"status"}],data:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.defaultUrl="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSTbZrzTIuXAe01k5wgrhWGzPRPRliQygmBCA&usqp=CAU";var t=JSON.parse(localStorage.getItem("user_id"));this.instance_id=t.instance_id,console.log("res",this.instance_id),g.a.showPatients({instance_id:this.instance_id,pagination:1}).then((function(t){console.log(";res",t),e.services=t.services,e.family_doctors=t.family_doctors,e.resources=t.resources,e.insurances=t.insurances,e.pharmacies=t.pharmacies,e.setState((function(e){var n=t.patients;return Object(i.a)(Object(i.a)({},e),{},{data:n})}))}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"tables-wrapper search-table-wrap"},u.a.createElement(b.f,{title:u.a.createElement(y.a,{id:"sidebar.familiy-directors"}),center:!0}),u.a.createElement(h.a,{maxWidth:"lg"},u.a.createElement(v.a,{px:{xs:"12px",lg:0},className:"page-space"},u.a.createElement(m.a,{title:u.a.createElement(y.a,{id:"sidebar.familiy-directors"}),columns:this.state.columns,data:this.state.data,editable:{onRowAdd:function(t){return new Promise((function(n){setTimeout((function(){n(),t.instance_id=e.instance_id;var r=new FormData;r.append("file",t.picture),t.picture="",r.append("data",JSON.stringify(t)),g.a.addPatients(r).then((function(t){console.log("res",t),e.setState((function(e){var n=Object(a.a)(e.data);return n.push(t),Object(i.a)(Object(i.a)({},e),{},{data:n})}))}))}),600)}))},onRowUpdate:function(t,n){return new Promise((function(r){setTimeout((function(){r();var o=new FormData;"object"==typeof t.picture&&(o.append("file",t.picture),t.picture=""),o.append("data",JSON.stringify(t)),console.log("newData",t),g.a.editPatients(o).then((function(t){n&&e.setState((function(e){var r=Object(a.a)(e.data);return r[r.indexOf(n)]=t,Object(i.a)(Object(i.a)({},e),{},{data:r})}))}))}),600)}))},onRowDelete:function(t){return new Promise((function(n){setTimeout((function(){n(),console.log(";oldData",t.id),g.a.deletePatients({id:t.id}).then((function(n){console.log("res",n),e.setState((function(e){var n=Object(a.a)(e.data);return n.splice(n.indexOf(t),1),Object(i.a)(Object(i.a)({},e),{},{data:n})}))}))}),600)}))}}}))))}}]),n}(l.Component);t.default=E}}]);
//# sourceMappingURL=50.3bcae9ab.chunk.js.map